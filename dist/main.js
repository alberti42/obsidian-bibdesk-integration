
/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BibtexIntegration
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_fs = require("fs");
var path = __toESM(require("path"));

// src/peggy.mjs
function peg$subclass(child, parent) {
  function C() {
    this.constructor = child;
  }
  C.prototype = parent.prototype;
  child.prototype = new C();
}
function peg$SyntaxError(message, expected, found, location) {
  var self = Error.call(this, message);
  if (Object.setPrototypeOf) {
    Object.setPrototypeOf(self, peg$SyntaxError.prototype);
  }
  self.expected = expected;
  self.found = found;
  self.location = location;
  self.name = "SyntaxError";
  return self;
}
peg$subclass(peg$SyntaxError, Error);
function peg$padEnd(str, targetLength, padString) {
  padString = padString || " ";
  if (str.length > targetLength) {
    return str;
  }
  targetLength -= str.length;
  padString += padString.repeat(targetLength);
  return str + padString.slice(0, targetLength);
}
peg$SyntaxError.prototype.format = function(sources) {
  var str = "Error: " + this.message;
  if (this.location) {
    var src = null;
    var k;
    for (k = 0; k < sources.length; k++) {
      if (sources[k].source === this.location.source) {
        src = sources[k].text.split(/\r\n|\n|\r/g);
        break;
      }
    }
    var s = this.location.start;
    var offset_s = this.location.source && typeof this.location.source.offset === "function" ? this.location.source.offset(s) : s;
    var loc = this.location.source + ":" + offset_s.line + ":" + offset_s.column;
    if (src) {
      var e = this.location.end;
      var filler = peg$padEnd("", offset_s.line.toString().length, " ");
      var line = src[s.line - 1];
      var last = s.line === e.line ? e.column : line.length + 1;
      var hatLen = last - s.column || 1;
      str += "\n --> " + loc + "\n" + filler + " |\n" + offset_s.line + " | " + line + "\n" + filler + " | " + peg$padEnd("", s.column - 1, " ") + peg$padEnd("", hatLen, "^");
    } else {
      str += "\n at " + loc;
    }
  }
  return str;
};
peg$SyntaxError.buildMessage = function(expected, found) {
  var DESCRIBE_EXPECTATION_FNS = {
    literal: function(expectation) {
      return '"' + literalEscape(expectation.text) + '"';
    },
    class: function(expectation) {
      var escapedParts = expectation.parts.map(function(part) {
        return Array.isArray(part) ? classEscape(part[0]) + "-" + classEscape(part[1]) : classEscape(part);
      });
      return "[" + (expectation.inverted ? "^" : "") + escapedParts.join("") + "]";
    },
    any: function() {
      return "any character";
    },
    end: function() {
      return "end of input";
    },
    other: function(expectation) {
      return expectation.description;
    }
  };
  function hex(ch) {
    return ch.charCodeAt(0).toString(16).toUpperCase();
  }
  function literalEscape(s) {
    return s.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function(ch) {
      return "\\x0" + hex(ch);
    }).replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) {
      return "\\x" + hex(ch);
    });
  }
  function classEscape(s) {
    return s.replace(/\\/g, "\\\\").replace(/\]/g, "\\]").replace(/\^/g, "\\^").replace(/-/g, "\\-").replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function(ch) {
      return "\\x0" + hex(ch);
    }).replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) {
      return "\\x" + hex(ch);
    });
  }
  function describeExpectation(expectation) {
    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
  }
  function describeExpected(expected2) {
    var descriptions = expected2.map(describeExpectation);
    var i, j;
    descriptions.sort();
    if (descriptions.length > 0) {
      for (i = 1, j = 1; i < descriptions.length; i++) {
        if (descriptions[i - 1] !== descriptions[i]) {
          descriptions[j] = descriptions[i];
          j++;
        }
      }
      descriptions.length = j;
    }
    switch (descriptions.length) {
      case 1:
        return descriptions[0];
      case 2:
        return descriptions[0] + " or " + descriptions[1];
      default:
        return descriptions.slice(0, -1).join(", ") + ", or " + descriptions[descriptions.length - 1];
    }
  }
  function describeFound(found2) {
    return found2 ? '"' + literalEscape(found2) + '"' : "end of input";
  }
  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
};
function peg$parse(input, options) {
  var _a, _b, _c;
  options = options !== void 0 ? options : {};
  var peg$FAILED = {};
  var peg$source = options.grammarSource;
  var peg$startRuleFunctions = { main: peg$parsemain };
  var peg$startRuleFunction = peg$parsemain;
  var peg$c0 = "@";
  var peg$c1 = "{";
  var peg$c2 = ",";
  var peg$c3 = "}";
  var peg$c4 = "=";
  var peg$c5 = "\\}";
  var peg$c6 = "\\{";
  var peg$c7 = "%";
  var peg$r0 = /^[^ {]/;
  var peg$r1 = /^[^ ,]/;
  var peg$r2 = /^[^= ]/;
  var peg$r3 = /^[^, ]/;
  var peg$r4 = /^[^\n]/;
  var peg$r5 = /^[\n]/;
  var peg$r6 = /^[ \n\t]/;
  var peg$r7 = /^[ \t]/;
  var peg$e0 = peg$literalExpectation("@", false);
  var peg$e1 = peg$classExpectation([" ", "{"], true, false);
  var peg$e2 = peg$literalExpectation("{", false);
  var peg$e3 = peg$classExpectation([" ", ","], true, false);
  var peg$e4 = peg$literalExpectation(",", false);
  var peg$e5 = peg$literalExpectation("}", false);
  var peg$e6 = peg$classExpectation(["=", " "], true, false);
  var peg$e7 = peg$literalExpectation("=", false);
  var peg$e8 = peg$classExpectation([",", " "], true, false);
  var peg$e9 = peg$literalExpectation("\\}", false);
  var peg$e10 = peg$literalExpectation("\\{", false);
  var peg$e11 = peg$anyExpectation();
  var peg$e12 = peg$literalExpectation("%", false);
  var peg$e13 = peg$classExpectation(["\n"], true, false);
  var peg$e14 = peg$classExpectation(["\n"], false, false);
  var peg$e15 = peg$classExpectation([" ", "\n", "	"], false, false);
  var peg$e16 = peg$classExpectation([" ", "	"], false, false);
  var peg$f0 = function() {
    return null;
  };
  var peg$f1 = function(type, citekey, f) {
    f.type = type;
    const entries = f.reduce((acc, current) => {
      acc[current[0]] = current[1];
      return acc;
    }, {});
    if (count++ >= maxMatches) {
      throw new MaxMatchesReachedError2("Reached max matches", location());
    }
    parsedData[citekey] = entries;
    return null;
  };
  var peg$f2 = function() {
    return null;
  };
  var peg$f3 = function(t) {
    return "<<" + t + ">>";
  };
  var peg$currPos = options.peg$currPos | 0;
  var peg$savedPos = peg$currPos;
  var peg$posDetailsCache = [{ line: 1, column: 1 }];
  var peg$maxFailPos = peg$currPos;
  var peg$maxFailExpected = options.peg$maxFailExpected || [];
  var peg$silentFails = options.peg$silentFails | 0;
  var peg$result;
  if (options.startRule) {
    if (!(options.startRule in peg$startRuleFunctions)) {
      throw new Error(`Can't start parsing from rule "` + options.startRule + '".');
    }
    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
  }
  function text() {
    return input.substring(peg$savedPos, peg$currPos);
  }
  function offset() {
    return peg$savedPos;
  }
  function range() {
    return {
      source: peg$source,
      start: peg$savedPos,
      end: peg$currPos
    };
  }
  function location() {
    return peg$computeLocation(peg$savedPos, peg$currPos);
  }
  function expected(description, location2) {
    location2 = location2 !== void 0 ? location2 : peg$computeLocation(peg$savedPos, peg$currPos);
    throw peg$buildStructuredError(
      [peg$otherExpectation(description)],
      input.substring(peg$savedPos, peg$currPos),
      location2
    );
  }
  function error(message, location2) {
    location2 = location2 !== void 0 ? location2 : peg$computeLocation(peg$savedPos, peg$currPos);
    throw peg$buildSimpleError(message, location2);
  }
  function peg$literalExpectation(text2, ignoreCase) {
    return { type: "literal", text: text2, ignoreCase };
  }
  function peg$classExpectation(parts, inverted, ignoreCase) {
    return { type: "class", parts, inverted, ignoreCase };
  }
  function peg$anyExpectation() {
    return { type: "any" };
  }
  function peg$endExpectation() {
    return { type: "end" };
  }
  function peg$otherExpectation(description) {
    return { type: "other", description };
  }
  function peg$computePosDetails(pos) {
    var details = peg$posDetailsCache[pos];
    var p;
    if (details) {
      return details;
    } else {
      if (pos >= peg$posDetailsCache.length) {
        p = peg$posDetailsCache.length - 1;
      } else {
        p = pos;
        while (!peg$posDetailsCache[--p]) {
        }
      }
      details = peg$posDetailsCache[p];
      details = {
        line: details.line,
        column: details.column
      };
      while (p < pos) {
        if (input.charCodeAt(p) === 10) {
          details.line++;
          details.column = 1;
        } else {
          details.column++;
        }
        p++;
      }
      peg$posDetailsCache[pos] = details;
      return details;
    }
  }
  function peg$computeLocation(startPos, endPos, offset2) {
    var startPosDetails = peg$computePosDetails(startPos);
    var endPosDetails = peg$computePosDetails(endPos);
    var res = {
      source: peg$source,
      start: {
        offset: startPos,
        line: startPosDetails.line,
        column: startPosDetails.column
      },
      end: {
        offset: endPos,
        line: endPosDetails.line,
        column: endPosDetails.column
      }
    };
    if (offset2 && peg$source && typeof peg$source.offset === "function") {
      res.start = peg$source.offset(res.start);
      res.end = peg$source.offset(res.end);
    }
    return res;
  }
  function peg$fail(expected2) {
    if (peg$currPos < peg$maxFailPos) {
      return;
    }
    if (peg$currPos > peg$maxFailPos) {
      peg$maxFailPos = peg$currPos;
      peg$maxFailExpected = [];
    }
    peg$maxFailExpected.push(expected2);
  }
  function peg$buildSimpleError(message, location2) {
    return new peg$SyntaxError(message, null, null, location2);
  }
  function peg$buildStructuredError(expected2, found, location2) {
    return new peg$SyntaxError(
      peg$SyntaxError.buildMessage(expected2, found),
      expected2,
      found,
      location2
    );
  }
  function peg$parsemain() {
    var s0, s1;
    s0 = [];
    s1 = peg$parseblock();
    while (s1 !== peg$FAILED) {
      s0.push(s1);
      s1 = peg$parseblock();
    }
    return s0;
  }
  function peg$parseblock() {
    var s0;
    s0 = peg$parsebibentry();
    if (s0 === peg$FAILED) {
      s0 = peg$parsecomment();
      if (s0 === peg$FAILED) {
        s0 = peg$parseempty_lines();
        if (s0 === peg$FAILED) {
          s0 = peg$parseloose_line();
        }
      }
    }
    return s0;
  }
  function peg$parseempty_lines() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = peg$currPos;
    s2 = [];
    s3 = peg$parseempty_line();
    if (s3 !== peg$FAILED) {
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$parseempty_line();
      }
    } else {
      s2 = peg$FAILED;
    }
    if (s2 !== peg$FAILED) {
      s1 = input.substring(s1, peg$currPos);
    } else {
      s1 = s2;
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$f0();
    }
    s0 = s1;
    return s0;
  }
  function peg$parsebibentry() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12;
    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 64) {
      s1 = peg$c0;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e0);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$currPos;
      s3 = [];
      s4 = input.charAt(peg$currPos);
      if (peg$r0.test(s4)) {
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e1);
        }
      }
      while (s4 !== peg$FAILED) {
        s3.push(s4);
        s4 = input.charAt(peg$currPos);
        if (peg$r0.test(s4)) {
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e1);
          }
        }
      }
      s2 = input.substring(s2, peg$currPos);
      s3 = peg$parseempty_chars();
      if (input.charCodeAt(peg$currPos) === 123) {
        s4 = peg$c1;
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e2);
        }
      }
      if (s4 !== peg$FAILED) {
        s5 = peg$parseempty_chars();
        s6 = peg$currPos;
        s7 = [];
        s8 = input.charAt(peg$currPos);
        if (peg$r1.test(s8)) {
          peg$currPos++;
        } else {
          s8 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e3);
          }
        }
        if (s8 !== peg$FAILED) {
          while (s8 !== peg$FAILED) {
            s7.push(s8);
            s8 = input.charAt(peg$currPos);
            if (peg$r1.test(s8)) {
              peg$currPos++;
            } else {
              s8 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e3);
              }
            }
          }
        } else {
          s7 = peg$FAILED;
        }
        if (s7 !== peg$FAILED) {
          s6 = input.substring(s6, peg$currPos);
        } else {
          s6 = s7;
        }
        if (s6 !== peg$FAILED) {
          s7 = peg$parseempty_chars();
          if (input.charCodeAt(peg$currPos) === 44) {
            s8 = peg$c2;
            peg$currPos++;
          } else {
            s8 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e4);
            }
          }
          if (s8 !== peg$FAILED) {
            s9 = peg$parseempty_chars();
            s10 = peg$parsefields();
            if (input.charCodeAt(peg$currPos) === 125) {
              s11 = peg$c3;
              peg$currPos++;
            } else {
              s11 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e5);
              }
            }
            if (s11 !== peg$FAILED) {
              s12 = peg$parseempty_chars();
              peg$savedPos = s0;
              s0 = peg$f1(s2, s6, s10);
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsefields() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = [];
    s2 = peg$parsefield();
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      s2 = peg$currPos;
      s3 = peg$parsedelimiter();
      if (s3 !== peg$FAILED) {
        s3 = peg$parsefield();
        if (s3 === peg$FAILED) {
          peg$currPos = s2;
          s2 = peg$FAILED;
        } else {
          s2 = s3;
        }
      } else {
        s2 = s3;
      }
    }
    s2 = peg$parsedelimiter();
    if (s2 === peg$FAILED) {
      s2 = null;
    }
    s0 = s1;
    return s0;
  }
  function peg$parsefield() {
    var s0;
    s0 = peg$parsegeneric_field();
    if (s0 === peg$FAILED) {
      s0 = peg$parsestrict_field();
    }
    return s0;
  }
  function peg$parsestrict_field() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8;
    s0 = peg$currPos;
    s1 = peg$parseempty_chars();
    s2 = peg$currPos;
    s3 = [];
    s4 = input.charAt(peg$currPos);
    if (peg$r2.test(s4)) {
      peg$currPos++;
    } else {
      s4 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e6);
      }
    }
    if (s4 !== peg$FAILED) {
      while (s4 !== peg$FAILED) {
        s3.push(s4);
        s4 = input.charAt(peg$currPos);
        if (peg$r2.test(s4)) {
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e6);
          }
        }
      }
    } else {
      s3 = peg$FAILED;
    }
    if (s3 !== peg$FAILED) {
      s2 = input.substring(s2, peg$currPos);
    } else {
      s2 = s3;
    }
    if (s2 !== peg$FAILED) {
      s3 = peg$parseempty_chars();
      if (input.charCodeAt(peg$currPos) === 61) {
        s4 = peg$c4;
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e7);
        }
      }
      if (s4 !== peg$FAILED) {
        s5 = peg$parseempty_chars();
        s6 = peg$currPos;
        s7 = [];
        s8 = input.charAt(peg$currPos);
        if (peg$r3.test(s8)) {
          peg$currPos++;
        } else {
          s8 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e8);
          }
        }
        if (s8 !== peg$FAILED) {
          while (s8 !== peg$FAILED) {
            s7.push(s8);
            s8 = input.charAt(peg$currPos);
            if (peg$r3.test(s8)) {
              peg$currPos++;
            } else {
              s8 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e8);
              }
            }
          }
        } else {
          s7 = peg$FAILED;
        }
        if (s7 !== peg$FAILED) {
          s6 = input.substring(s6, peg$currPos);
        } else {
          s6 = s7;
        }
        if (s6 !== peg$FAILED) {
          s7 = peg$parseempty_chars();
          s0 = [s2, s6];
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsegeneric_field() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseempty_chars();
    s2 = peg$currPos;
    s3 = [];
    s4 = input.charAt(peg$currPos);
    if (peg$r2.test(s4)) {
      peg$currPos++;
    } else {
      s4 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e6);
      }
    }
    if (s4 !== peg$FAILED) {
      while (s4 !== peg$FAILED) {
        s3.push(s4);
        s4 = input.charAt(peg$currPos);
        if (peg$r2.test(s4)) {
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e6);
          }
        }
      }
    } else {
      s3 = peg$FAILED;
    }
    if (s3 !== peg$FAILED) {
      s2 = input.substring(s2, peg$currPos);
    } else {
      s2 = s3;
    }
    if (s2 !== peg$FAILED) {
      s3 = peg$parseempty_chars();
      if (input.charCodeAt(peg$currPos) === 61) {
        s4 = peg$c4;
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e7);
        }
      }
      if (s4 !== peg$FAILED) {
        s5 = peg$parseempty_chars();
        s6 = peg$parsecurly_brackets();
        if (s6 !== peg$FAILED) {
          s7 = peg$parseempty_chars();
          s0 = [s2, s6];
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsedelimiter() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = peg$parseempty_chars();
    if (input.charCodeAt(peg$currPos) === 44) {
      s2 = peg$c2;
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e4);
      }
    }
    if (s2 !== peg$FAILED) {
      s3 = peg$parseempty_chars();
      s1 = [s1, s2, s3];
      s0 = s1;
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsecurly_brackets() {
    var s0, s1, s2, s3, s4, s5, s6;
    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c1;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e2);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$currPos;
      s3 = [];
      if (input.substr(peg$currPos, 2) === peg$c5) {
        s4 = peg$c5;
        peg$currPos += 2;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e9);
        }
      }
      if (s4 === peg$FAILED) {
        if (input.substr(peg$currPos, 2) === peg$c6) {
          s4 = peg$c6;
          peg$currPos += 2;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e10);
          }
        }
        if (s4 === peg$FAILED) {
          s4 = peg$parsecurly_brackets();
          if (s4 === peg$FAILED) {
            s4 = peg$currPos;
            s5 = peg$currPos;
            peg$silentFails++;
            if (input.charCodeAt(peg$currPos) === 125) {
              s6 = peg$c3;
              peg$currPos++;
            } else {
              s6 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e5);
              }
            }
            peg$silentFails--;
            if (s6 === peg$FAILED) {
              s5 = void 0;
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
            if (s5 !== peg$FAILED) {
              if (input.length > peg$currPos) {
                s6 = input.charAt(peg$currPos);
                peg$currPos++;
              } else {
                s6 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e11);
                }
              }
              if (s6 !== peg$FAILED) {
                s5 = [s5, s6];
                s4 = s5;
              } else {
                peg$currPos = s4;
                s4 = peg$FAILED;
              }
            } else {
              peg$currPos = s4;
              s4 = peg$FAILED;
            }
          }
        }
      }
      while (s4 !== peg$FAILED) {
        s3.push(s4);
        if (input.substr(peg$currPos, 2) === peg$c5) {
          s4 = peg$c5;
          peg$currPos += 2;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e9);
          }
        }
        if (s4 === peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c6) {
            s4 = peg$c6;
            peg$currPos += 2;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e10);
            }
          }
          if (s4 === peg$FAILED) {
            s4 = peg$parsecurly_brackets();
            if (s4 === peg$FAILED) {
              s4 = peg$currPos;
              s5 = peg$currPos;
              peg$silentFails++;
              if (input.charCodeAt(peg$currPos) === 125) {
                s6 = peg$c3;
                peg$currPos++;
              } else {
                s6 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e5);
                }
              }
              peg$silentFails--;
              if (s6 === peg$FAILED) {
                s5 = void 0;
              } else {
                peg$currPos = s5;
                s5 = peg$FAILED;
              }
              if (s5 !== peg$FAILED) {
                if (input.length > peg$currPos) {
                  s6 = input.charAt(peg$currPos);
                  peg$currPos++;
                } else {
                  s6 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e11);
                  }
                }
                if (s6 !== peg$FAILED) {
                  s5 = [s5, s6];
                  s4 = s5;
                } else {
                  peg$currPos = s4;
                  s4 = peg$FAILED;
                }
              } else {
                peg$currPos = s4;
                s4 = peg$FAILED;
              }
            }
          }
        }
      }
      s2 = input.substring(s2, peg$currPos);
      if (input.charCodeAt(peg$currPos) === 125) {
        s3 = peg$c3;
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e5);
        }
      }
      if (s3 !== peg$FAILED) {
        s0 = s2;
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsecomment() {
    var s0, s1, s2, s3, s4, s5;
    s0 = peg$currPos;
    s1 = peg$currPos;
    s2 = peg$currPos;
    s3 = [];
    s4 = peg$parse_();
    while (s4 !== peg$FAILED) {
      s3.push(s4);
      s4 = peg$parse_();
    }
    if (input.charCodeAt(peg$currPos) === 37) {
      s4 = peg$c7;
      peg$currPos++;
    } else {
      s4 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e12);
      }
    }
    if (s4 !== peg$FAILED) {
      s5 = peg$parseloose_line();
      if (s5 !== peg$FAILED) {
        s3 = [s3, s4, s5];
        s2 = s3;
      } else {
        peg$currPos = s2;
        s2 = peg$FAILED;
      }
    } else {
      peg$currPos = s2;
      s2 = peg$FAILED;
    }
    if (s2 !== peg$FAILED) {
      s1 = input.substring(s1, peg$currPos);
    } else {
      s1 = s2;
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$f2();
    }
    s0 = s1;
    return s0;
  }
  function peg$parseloose_line() {
    var s0, s1, s2, s3, s4;
    s0 = peg$currPos;
    s1 = peg$currPos;
    s2 = peg$currPos;
    s3 = [];
    s4 = input.charAt(peg$currPos);
    if (peg$r4.test(s4)) {
      peg$currPos++;
    } else {
      s4 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e13);
      }
    }
    while (s4 !== peg$FAILED) {
      s3.push(s4);
      s4 = input.charAt(peg$currPos);
      if (peg$r4.test(s4)) {
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e13);
        }
      }
    }
    s4 = peg$parsenewline();
    if (s4 !== peg$FAILED) {
      s3 = [s3, s4];
      s2 = s3;
    } else {
      peg$currPos = s2;
      s2 = peg$FAILED;
    }
    if (s2 !== peg$FAILED) {
      s1 = input.substring(s1, peg$currPos);
    } else {
      s1 = s2;
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$f3(s1);
    }
    s0 = s1;
    return s0;
  }
  function peg$parsenot_newline() {
    var s0, s1;
    s0 = [];
    s1 = input.charAt(peg$currPos);
    if (peg$r4.test(s1)) {
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e13);
      }
    }
    if (s1 !== peg$FAILED) {
      while (s1 !== peg$FAILED) {
        s0.push(s1);
        s1 = input.charAt(peg$currPos);
        if (peg$r4.test(s1)) {
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e13);
          }
        }
      }
    } else {
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parsenewline() {
    var s0;
    s0 = input.charAt(peg$currPos);
    if (peg$r5.test(s0)) {
      peg$currPos++;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e14);
      }
    }
    return s0;
  }
  function peg$parseempty_line() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = peg$currPos;
    s2 = [];
    s3 = peg$parse_();
    while (s3 !== peg$FAILED) {
      s2.push(s3);
      s3 = peg$parse_();
    }
    s3 = input.charAt(peg$currPos);
    if (peg$r5.test(s3)) {
      peg$currPos++;
    } else {
      s3 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e14);
      }
    }
    if (s3 !== peg$FAILED) {
      s2 = [s2, s3];
      s1 = s2;
    } else {
      peg$currPos = s1;
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    return s0;
  }
  function peg$parseempty_chars() {
    var s0, s1, s2;
    s0 = peg$currPos;
    s1 = [];
    s2 = input.charAt(peg$currPos);
    if (peg$r6.test(s2)) {
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e15);
      }
    }
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      s2 = input.charAt(peg$currPos);
      if (peg$r6.test(s2)) {
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e15);
        }
      }
    }
    s0 = input.substring(s0, peg$currPos);
    return s0;
  }
  function peg$parsespacer() {
    var s0, s1, s2, s3, s4;
    s0 = peg$currPos;
    s1 = peg$currPos;
    s2 = peg$parseempty_chars();
    if (input.charCodeAt(peg$currPos) === 44) {
      s3 = peg$c2;
      peg$currPos++;
    } else {
      s3 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e4);
      }
    }
    if (s3 !== peg$FAILED) {
      s4 = peg$parseempty_chars();
      s2 = [s2, s3, s4];
      s1 = s2;
    } else {
      peg$currPos = s1;
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    return s0;
  }
  function peg$parse_() {
    var s0;
    s0 = input.charAt(peg$currPos);
    if (peg$r7.test(s0)) {
      peg$currPos++;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e16);
      }
    }
    return s0;
  }
  let count = 0;
  const MaxMatchesReachedError2 = (_a = options.MaxMatchesReachedError) != null ? _a : Error;
  const maxMatches = (_b = options.maxMatches) != null ? _b : 100;
  const parsedData = (_c = options.parsedData) != null ? _c : {};
  peg$result = peg$startRuleFunction();
  if (options.peg$library) {
    return (
      /** @type {any} */
      {
        peg$result,
        peg$currPos,
        peg$FAILED,
        peg$maxFailExpected,
        peg$maxFailPos
      }
    );
  }
  if (peg$result !== peg$FAILED && peg$currPos === input.length) {
    return peg$result;
  } else {
    if (peg$result !== peg$FAILED && peg$currPos < input.length) {
      peg$fail(peg$endExpectation());
    }
    throw peg$buildStructuredError(
      peg$maxFailExpected,
      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,
      peg$maxFailPos < input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)
    );
  }
}

// src/main.ts
var MaxMatchesReachedError = class extends Error {
  constructor(message, location) {
    super(message);
    this.name = "MaxMatchesReachedError";
    this.location = location;
  }
};
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
function base64ToUint8Array(base64) {
  const binaryString = atob(base64);
  const len = binaryString.length;
  const bytes = new Uint8Array(len);
  for (let i = 0; i < len; i++) {
    bytes[i] = binaryString.charCodeAt(i);
  }
  return bytes;
}
var BibtexIntegration = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.filePath = path.join("/Users/andrea/Documents/Papers library", "test.bib");
    this.data = "";
    this.bibEntries = {};
  }
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "Sample Plugin", (evt) => {
      new import_obsidian.Notice("This is a notice!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-sample-modal-simple",
      name: "Open sample modal (simple)",
      callback: () => {
        new SampleModal(this.app).open();
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
    this.addCommand({
      id: "parse-bibtex",
      name: "Parse BibTeX file",
      callback: async () => {
        this.parseBibtex();
      }
    });
    this.addCommand({
      id: "get-bibtex-entry",
      name: "Get BibTeX entry",
      callback: async () => {
        const bibEntry = this.bibEntries["Gibble:2024"];
        if (bibEntry) {
          console.log(base64ToUint8Array(bibEntry["bdsk-file-1"]));
        }
      }
    });
    this.parseBibtex();
  }
  onunload() {
  }
  async parseBibtex() {
    if (this.data === "") {
      const t0 = Date.now();
      this.data = await this.readBibFile();
      const t1 = Date.now();
      console.log("Bibtex file loaded in " + (t1 - t0) + " milliseconds.");
    }
    const parsedData = {};
    const maxMatches = 100;
    let offset = 0;
    let isParsingComplete = false;
    const t2 = Date.now();
    const processNextChunk = (deadline) => {
      var _a;
      try {
        while (deadline.timeRemaining() > 0 && !isParsingComplete) {
          peg$parse((_a = this.data) == null ? void 0 : _a.slice(offset), {
            MaxMatchesReachedError,
            parsedData,
            maxMatches
          });
          isParsingComplete = true;
        }
        if (!isParsingComplete) {
          requestIdleCallback(processNextChunk);
        } else {
          const t3 = Date.now();
          console.log("Bibtex file parsed in " + (t3 - t2) + " milliseconds");
          console.log("All data processed:", Object.keys(parsedData).length);
          this.bibEntries = parsedData;
        }
      } catch (error) {
        if (error instanceof MaxMatchesReachedError) {
          offset += this.getOffsetFromLocation(error.location);
          requestIdleCallback(processNextChunk);
        } else {
          console.error("Parsing error:", error);
        }
      }
    };
    requestIdleCallback(processNextChunk);
  }
  // Helper function to convert PeggyJS location to string offset
  getOffsetFromLocation(location) {
    if (!location)
      return 0;
    return location.end.offset;
  }
  // Function to read the .bib file and return its contents
  async readBibFile() {
    try {
      const data = await import_fs.promises.readFile(this.filePath, "utf8");
      return data;
    } catch (err) {
      console.error("Error reading file:", err);
      throw err;
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SampleModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL3BlZ2d5Lm1qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gbWFpbi50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHtwYXJzZX0gZnJvbSBcIi4vcGVnZ3kubWpzXCJcblxuaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgICBzdGFydDogUG9zaXRpb247XG4gICAgZW5kOiBQb3NpdGlvbjtcbn1cblxuaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgICBvZmZzZXQ6IG51bWJlcjtcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY29sdW1uOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBCaWJUZVhEaWN0IHtcbiAgICBba2V5OiBzdHJpbmddOiBCaWJUZVhFbnRyeTsgICAvLyBUaGUgZmllbGRzIHdpdGhpbiB0aGUgZW50cnkgKGUuZy4sIFwiYXV0aG9yXCIsIFwidGl0bGVcIiwgXCJ5ZWFyXCIsIGV0Yy4pXG59XG5cbmludGVyZmFjZSBCaWJUZVhFbnRyeSB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nOyAgIC8vIFRoZSBmaWVsZHMgd2l0aGluIHRoZSBlbnRyeSAoZS5nLiwgXCJhdXRob3JcIiwgXCJ0aXRsZVwiLCBcInllYXJcIiwgZXRjLilcbn1cblxuY2xhc3MgTWF4TWF0Y2hlc1JlYWNoZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBsb2NhdGlvbjogTG9jYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uOiBMb2NhdGlvbikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYXhNYXRjaGVzUmVhY2hlZEVycm9yXCI7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjsgIC8vIFN0b3JlIHRoZSBsb2NhdGlvbiB3aGVyZSBwYXJzaW5nIHN0b3BwZWRcbiAgICB9XG59XG5cblxuaW50ZXJmYWNlIEJpYnRleEludGVncmF0aW9uU2V0dGluZ3Mge1xuICAgIG15U2V0dGluZzogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBCaWJ0ZXhJbnRlZ3JhdGlvblNldHRpbmdzID0ge1xuICAgIG15U2V0dGluZzogJ2RlZmF1bHQnXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvVWludDhBcnJheShiYXNlNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBsZW4gPSBiaW5hcnlTdHJpbmcubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaWJ0ZXhJbnRlZ3JhdGlvbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IEJpYnRleEludGVncmF0aW9uU2V0dGluZ3MgPSBERUZBVUxUX1NFVFRJTkdTO1xuXG4gICAgcHJpdmF0ZSBmaWxlUGF0aCA9IHBhdGguam9pbihcIi9Vc2Vycy9hbmRyZWEvRG9jdW1lbnRzL1BhcGVycyBsaWJyYXJ5XCIsIFwidGVzdC5iaWJcIik7XG4gICAgcHJpdmF0ZSBkYXRhID0gXCJcIjtcbiAgICBwcml2YXRlIGJpYkVudHJpZXM6IEJpYlRlWERpY3QgPSB7fTtcbiAgICBcbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuICAgICAgICBjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2RpY2UnLCAnU2FtcGxlIFBsdWdpbicsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgaWNvbi5cbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1RoaXMgaXMgYSBub3RpY2UhJyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxuICAgICAgICByaWJib25JY29uRWwuYWRkQ2xhc3MoJ215LXBsdWdpbi1yaWJib24tY2xhc3MnKTtcblxuICAgICAgICAvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuICAgICAgICBjb25zdCBzdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICAgICAgc3RhdHVzQmFySXRlbUVsLnNldFRleHQoJ1N0YXR1cyBCYXIgVGV4dCcpO1xuXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1zaW1wbGUnLFxuICAgICAgICAgICAgbmFtZTogJ09wZW4gc2FtcGxlIG1vZGFsIChzaW1wbGUpJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IFNhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICAgICAgLy8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcblxuICAgICAgICAvLyBGb3IgZXhhbXBsZSwgdHJpZ2dlcmluZyB0aGUgd29ya2VyIHdoZW4gYSBjb21tYW5kIGlzIHJ1bjpcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAncGFyc2UtYmlidGV4JyxcbiAgICAgICAgICAgIG5hbWU6ICdQYXJzZSBCaWJUZVggZmlsZScsXG4gICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VCaWJ0ZXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHRyaWdnZXJpbmcgdGhlIHdvcmtlciB3aGVuIGEgY29tbWFuZCBpcyBydW46XG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogJ2dldC1iaWJ0ZXgtZW50cnknLFxuICAgICAgICAgICAgbmFtZTogJ0dldCBCaWJUZVggZW50cnknLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaWJFbnRyeSA9IHRoaXMuYmliRW50cmllc1snR2liYmxlOjIwMjQnXTtcbiAgICAgICAgICAgICAgICBpZihiaWJFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlNjRUb1VpbnQ4QXJyYXkoYmliRW50cnlbJ2Jkc2stZmlsZS0xJ10pKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBhcnNlQmlidGV4KCk7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBhc3luYyBwYXJzZUJpYnRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSA9PT0gXCJcIikge1xuICAgICAgICAgICAgY29uc3QgdDAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gYXdhaXQgdGhpcy5yZWFkQmliRmlsZSgpO1xuICAgICAgICAgICAgY29uc3QgdDEgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCaWJ0ZXggZmlsZSBsb2FkZWQgaW4gXCIgKyAodDEgLSB0MCkgKyBcIiBtaWxsaXNlY29uZHMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBtYXhNYXRjaGVzID0gMTAwO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGlzUGFyc2luZ0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0MiA9IERhdGUubm93KCk7XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc05leHRDaHVuayA9IChkZWFkbGluZTogSWRsZURlYWRsaW5lKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiAwICYmICFpc1BhcnNpbmdDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTbGljZSB0aGUgZGF0YSB0byBzdGFydCBwYXJzaW5nIGZyb20gdGhlIGxhc3Qga25vd24gb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlKHRoaXMuZGF0YT8uc2xpY2Uob2Zmc2V0KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWF4TWF0Y2hlc1JlYWNoZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhNYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIGVycm9yIGlzIHRocm93biwgcGFyc2luZyBpcyBjb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICBpc1BhcnNpbmdDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpc1BhcnNpbmdDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGFyc2luZyBpcyBub3QgY29tcGxldGUsIHJlcXVlc3QgdGhlIG5leHQgaWRsZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrKHByb2Nlc3NOZXh0Q2h1bmspO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNpbmcgZmluaXNoZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdDMgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJpYnRleCBmaWxlIHBhcnNlZCBpbiBcIiArICh0MyAtIHQyKSArIFwiIG1pbGxpc2Vjb25kc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBbGwgZGF0YSBwcm9jZXNzZWQ6XCIsIE9iamVjdC5rZXlzKHBhcnNlZERhdGEpLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmliRW50cmllcyA9IHBhcnNlZERhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBNYXhNYXRjaGVzUmVhY2hlZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgb2Zmc2V0IGJhc2VkIG9uIHRoZSBsb2NhdGlvbiByZXR1cm5lZCBieSB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHRoaXMuZ2V0T2Zmc2V0RnJvbUxvY2F0aW9uKGVycm9yLmxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHRoZSBuZXh0IGlkbGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkbGVDYWxsYmFjayhwcm9jZXNzTmV4dENodW5rKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGFyc2luZyBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIHRoZSBmaXJzdCBjaHVua1xuICAgICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrKHByb2Nlc3NOZXh0Q2h1bmspO1xuICAgIH1cblxuXG5cbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBQZWdneUpTIGxvY2F0aW9uIHRvIHN0cmluZyBvZmZzZXRcbiAgICBnZXRPZmZzZXRGcm9tTG9jYXRpb24obG9jYXRpb246IExvY2F0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuIDA7XG5cbiAgICAgICAgLy8gbG9jYXRpb24gY29udGFpbnMgc3RhcnQgYW5kIGVuZCBvZmZzZXRzIGluIHRoZSBpbnB1dCBzdHJpbmdcbiAgICAgICAgLy8gVXNlIHRoZSBlbmQgb2Zmc2V0IHRvIGNvbnRpbnVlIGZyb20gd2hlcmUgcGFyc2luZyBzdG9wcGVkXG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5lbmQub2Zmc2V0O1xuICAgIH1cblxuXG4gICAgLy8gRnVuY3Rpb24gdG8gcmVhZCB0aGUgLmJpYiBmaWxlIGFuZCByZXR1cm4gaXRzIGNvbnRlbnRzXG4gICAgYXN5bmMgcmVhZEJpYkZpbGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZSh0aGlzLmZpbGVQYXRoLCAndXRmOCcpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVhZGluZyBmaWxlOlwiLCBlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7ICAvLyBSZXRocm93IHRoZSBlcnJvciBzbyB0aGUgY2FsbGVyIGtub3dzIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgfVxufVxuXG5jbGFzcyBTYW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuc2V0VGV4dCgnV29haCEnKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cblxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogQmlidGV4SW50ZWdyYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBCaWJ0ZXhJbnRlZ3JhdGlvbikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnU2V0dGluZyAjMScpXG4gICAgICAgICAgICAuc2V0RGVzYygnSXRcXCdzIGEgc2VjcmV0JylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgeW91ciBzZWNyZXQnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cbn0iLCAiLy8gQGdlbmVyYXRlZCBieSBQZWdneSA0LjAuMy5cbi8vXG4vLyBodHRwczovL3BlZ2d5anMub3JnL1xuXG5cbmZ1bmN0aW9uIHBlZyRzdWJjbGFzcyhjaGlsZCwgcGFyZW50KSB7XG4gIGZ1bmN0aW9uIEMoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfVxuICBDLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBDKCk7XG59XG5cbmZ1bmN0aW9uIHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBleHBlY3RlZCwgZm91bmQsIGxvY2F0aW9uKSB7XG4gIHZhciBzZWxmID0gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgLy8gaXN0YW5idWwgaWdub3JlIG5leHQgQ2hlY2sgaXMgYSBuZWNlc3NhcnkgZXZpbCB0byBzdXBwb3J0IG9sZGVyIGVudmlyb25tZW50c1xuICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHNlbGYsIHBlZyRTeW50YXhFcnJvci5wcm90b3R5cGUpO1xuICB9XG4gIHNlbGYuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgc2VsZi5mb3VuZCA9IGZvdW5kO1xuICBzZWxmLmxvY2F0aW9uID0gbG9jYXRpb247XG4gIHNlbGYubmFtZSA9IFwiU3ludGF4RXJyb3JcIjtcbiAgcmV0dXJuIHNlbGY7XG59XG5cbnBlZyRzdWJjbGFzcyhwZWckU3ludGF4RXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcGVnJHBhZEVuZChzdHIsIHRhcmdldExlbmd0aCwgcGFkU3RyaW5nKSB7XG4gIHBhZFN0cmluZyA9IHBhZFN0cmluZyB8fCBcIiBcIjtcbiAgaWYgKHN0ci5sZW5ndGggPiB0YXJnZXRMZW5ndGgpIHsgcmV0dXJuIHN0cjsgfVxuICB0YXJnZXRMZW5ndGggLT0gc3RyLmxlbmd0aDtcbiAgcGFkU3RyaW5nICs9IHBhZFN0cmluZy5yZXBlYXQodGFyZ2V0TGVuZ3RoKTtcbiAgcmV0dXJuIHN0ciArIHBhZFN0cmluZy5zbGljZSgwLCB0YXJnZXRMZW5ndGgpO1xufVxuXG5wZWckU3ludGF4RXJyb3IucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKHNvdXJjZXMpIHtcbiAgdmFyIHN0ciA9IFwiRXJyb3I6IFwiICsgdGhpcy5tZXNzYWdlO1xuICBpZiAodGhpcy5sb2NhdGlvbikge1xuICAgIHZhciBzcmMgPSBudWxsO1xuICAgIHZhciBrO1xuICAgIGZvciAoayA9IDA7IGsgPCBzb3VyY2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICBpZiAoc291cmNlc1trXS5zb3VyY2UgPT09IHRoaXMubG9jYXRpb24uc291cmNlKSB7XG4gICAgICAgIHNyYyA9IHNvdXJjZXNba10udGV4dC5zcGxpdCgvXFxyXFxufFxcbnxcXHIvZyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcyA9IHRoaXMubG9jYXRpb24uc3RhcnQ7XG4gICAgdmFyIG9mZnNldF9zID0gKHRoaXMubG9jYXRpb24uc291cmNlICYmICh0eXBlb2YgdGhpcy5sb2NhdGlvbi5zb3VyY2Uub2Zmc2V0ID09PSBcImZ1bmN0aW9uXCIpKVxuICAgICAgPyB0aGlzLmxvY2F0aW9uLnNvdXJjZS5vZmZzZXQocylcbiAgICAgIDogcztcbiAgICB2YXIgbG9jID0gdGhpcy5sb2NhdGlvbi5zb3VyY2UgKyBcIjpcIiArIG9mZnNldF9zLmxpbmUgKyBcIjpcIiArIG9mZnNldF9zLmNvbHVtbjtcbiAgICBpZiAoc3JjKSB7XG4gICAgICB2YXIgZSA9IHRoaXMubG9jYXRpb24uZW5kO1xuICAgICAgdmFyIGZpbGxlciA9IHBlZyRwYWRFbmQoXCJcIiwgb2Zmc2V0X3MubGluZS50b1N0cmluZygpLmxlbmd0aCwgJyAnKTtcbiAgICAgIHZhciBsaW5lID0gc3JjW3MubGluZSAtIDFdO1xuICAgICAgdmFyIGxhc3QgPSBzLmxpbmUgPT09IGUubGluZSA/IGUuY29sdW1uIDogbGluZS5sZW5ndGggKyAxO1xuICAgICAgdmFyIGhhdExlbiA9IChsYXN0IC0gcy5jb2x1bW4pIHx8IDE7XG4gICAgICBzdHIgKz0gXCJcXG4gLS0+IFwiICsgbG9jICsgXCJcXG5cIlxuICAgICAgICAgICsgZmlsbGVyICsgXCIgfFxcblwiXG4gICAgICAgICAgKyBvZmZzZXRfcy5saW5lICsgXCIgfCBcIiArIGxpbmUgKyBcIlxcblwiXG4gICAgICAgICAgKyBmaWxsZXIgKyBcIiB8IFwiICsgcGVnJHBhZEVuZChcIlwiLCBzLmNvbHVtbiAtIDEsICcgJylcbiAgICAgICAgICArIHBlZyRwYWRFbmQoXCJcIiwgaGF0TGVuLCBcIl5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSBcIlxcbiBhdCBcIiArIGxvYztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbnBlZyRTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UgPSBmdW5jdGlvbihleHBlY3RlZCwgZm91bmQpIHtcbiAgdmFyIERFU0NSSUJFX0VYUEVDVEFUSU9OX0ZOUyA9IHtcbiAgICBsaXRlcmFsOiBmdW5jdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgIH0sXG5cbiAgICBjbGFzczogZnVuY3Rpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgIHZhciBlc2NhcGVkUGFydHMgPSBleHBlY3RhdGlvbi5wYXJ0cy5tYXAoZnVuY3Rpb24ocGFydCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXJ0KVxuICAgICAgICAgID8gY2xhc3NFc2NhcGUocGFydFswXSkgKyBcIi1cIiArIGNsYXNzRXNjYXBlKHBhcnRbMV0pXG4gICAgICAgICAgOiBjbGFzc0VzY2FwZShwYXJ0KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzLmpvaW4oXCJcIikgKyBcIl1cIjtcbiAgICB9LFxuXG4gICAgYW55OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcImFueSBjaGFyYWN0ZXJcIjtcbiAgICB9LFxuXG4gICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xuICAgIH0sXG5cbiAgICBvdGhlcjogZnVuY3Rpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaGV4KGNoKSB7XG4gICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHMpIHtcbiAgICByZXR1cm4gc1xuICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgLnJlcGxhY2UoL1wiL2csICBcIlxcXFxcXFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiBcIlxcXFx4MFwiICsgaGV4KGNoKTsgfSlcbiAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIFwiXFxcXHhcIiAgKyBoZXgoY2gpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHMpIHtcbiAgICByZXR1cm4gc1xuICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgLnJlcGxhY2UoL1xcXS9nLCBcIlxcXFxdXCIpXG4gICAgICAucmVwbGFjZSgvXFxeL2csIFwiXFxcXF5cIilcbiAgICAgIC5yZXBsYWNlKC8tL2csICBcIlxcXFwtXCIpXG4gICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiBcIlxcXFx4MFwiICsgaGV4KGNoKTsgfSlcbiAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIFwiXFxcXHhcIiAgKyBoZXgoY2gpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb24pIHtcbiAgICByZXR1cm4gREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TW2V4cGVjdGF0aW9uLnR5cGVdKGV4cGVjdGF0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpIHtcbiAgICB2YXIgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQubWFwKGRlc2NyaWJlRXhwZWN0YXRpb24pO1xuICAgIHZhciBpLCBqO1xuXG4gICAgZGVzY3JpcHRpb25zLnNvcnQoKTtcblxuICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICArIGRlc2NyaXB0aW9uc1tkZXNjcmlwdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZCkge1xuICAgIHJldHVybiBmb3VuZCA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZCkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gIH1cblxuICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpICsgXCIgYnV0IFwiICsgZGVzY3JpYmVGb3VuZChmb3VuZCkgKyBcIiBmb3VuZC5cIjtcbn07XG5cbmZ1bmN0aW9uIHBlZyRwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhciBwZWckRkFJTEVEID0ge307XG4gIHZhciBwZWckc291cmNlID0gb3B0aW9ucy5ncmFtbWFyU291cmNlO1xuXG4gIHZhciBwZWckc3RhcnRSdWxlRnVuY3Rpb25zID0geyBtYWluOiBwZWckcGFyc2VtYWluIH07XG4gIHZhciBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckcGFyc2VtYWluO1xuXG4gIHZhciBwZWckYzAgPSBcIkBcIjtcbiAgdmFyIHBlZyRjMSA9IFwie1wiO1xuICB2YXIgcGVnJGMyID0gXCIsXCI7XG4gIHZhciBwZWckYzMgPSBcIn1cIjtcbiAgdmFyIHBlZyRjNCA9IFwiPVwiO1xuICB2YXIgcGVnJGM1ID0gXCJcXFxcfVwiO1xuICB2YXIgcGVnJGM2ID0gXCJcXFxce1wiO1xuICB2YXIgcGVnJGM3ID0gXCIlXCI7XG5cbiAgdmFyIHBlZyRyMCA9IC9eW14ge10vO1xuICB2YXIgcGVnJHIxID0gL15bXiAsXS87XG4gIHZhciBwZWckcjIgPSAvXltePSBdLztcbiAgdmFyIHBlZyRyMyA9IC9eW14sIF0vO1xuICB2YXIgcGVnJHI0ID0gL15bXlxcbl0vO1xuICB2YXIgcGVnJHI1ID0gL15bXFxuXS87XG4gIHZhciBwZWckcjYgPSAvXlsgXFxuXFx0XS87XG4gIHZhciBwZWckcjcgPSAvXlsgXFx0XS87XG5cbiAgdmFyIHBlZyRlMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJAXCIsIGZhbHNlKTtcbiAgdmFyIHBlZyRlMSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIiBcIiwgXCJ7XCJdLCB0cnVlLCBmYWxzZSk7XG4gIHZhciBwZWckZTIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwie1wiLCBmYWxzZSk7XG4gIHZhciBwZWckZTMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIgXCIsIFwiLFwiXSwgdHJ1ZSwgZmFsc2UpO1xuICB2YXIgcGVnJGU0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIixcIiwgZmFsc2UpO1xuICB2YXIgcGVnJGU1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn1cIiwgZmFsc2UpO1xuICB2YXIgcGVnJGU2ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiPVwiLCBcIiBcIl0sIHRydWUsIGZhbHNlKTtcbiAgdmFyIHBlZyRlNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI9XCIsIGZhbHNlKTtcbiAgdmFyIHBlZyRlOCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIixcIiwgXCIgXCJdLCB0cnVlLCBmYWxzZSk7XG4gIHZhciBwZWckZTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXFxcXH1cIiwgZmFsc2UpO1xuICB2YXIgcGVnJGUxMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxce1wiLCBmYWxzZSk7XG4gIHZhciBwZWckZTExID0gcGVnJGFueUV4cGVjdGF0aW9uKCk7XG4gIHZhciBwZWckZTEyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiVcIiwgZmFsc2UpO1xuICB2YXIgcGVnJGUxMyA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcblwiXSwgdHJ1ZSwgZmFsc2UpO1xuICB2YXIgcGVnJGUxNCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcblwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgdmFyIHBlZyRlMTUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIgXCIsIFwiXFxuXCIsIFwiXFx0XCJdLCBmYWxzZSwgZmFsc2UpO1xuICB2YXIgcGVnJGUxNiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIiBcIiwgXCJcXHRcIl0sIGZhbHNlLCBmYWxzZSk7XG5cbiAgdmFyIHBlZyRmMCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgdmFyIHBlZyRmMSA9IGZ1bmN0aW9uKHR5cGUsIGNpdGVrZXksIGYpIHtcblxuICAgIGYudHlwZSA9IHR5cGU7XG4gICAgY29uc3QgZW50cmllcyA9IGYucmVkdWNlKChhY2MsIGN1cnJlbnQpID0+IHtcbiAgICAgIGFjY1tjdXJyZW50WzBdXSA9IGN1cnJlbnRbMV07XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIC8vIElmIG1heCBtYXRjaGVzIHJlYWNoZWQsIHRocm93IHRoZSBlcnJvciBhbmQgY2FwdHVyZSB0aGUgcG9zaXRpb25cbiAgICBpZiAoY291bnQrKyA+PSBtYXhNYXRjaGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWF4TWF0Y2hlc1JlYWNoZWRFcnJvcihcIlJlYWNoZWQgbWF4IG1hdGNoZXNcIiwgbG9jYXRpb24oKSk7IC8vIFBhc3MgbGFzdCBsb2NhdGlvbiB3aXRoIHRoZSBlcnJvclxuICAgIH1cblxuICAgIHBhcnNlZERhdGFbY2l0ZWtleV0gPSBlbnRyaWVzO1xuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICB2YXIgcGVnJGYyID0gZnVuY3Rpb24oKSB7IHJldHVybiBudWxsOyB9O1xuICB2YXIgcGVnJGYzID0gZnVuY3Rpb24odCkgeyByZXR1cm4gXCI8PFwiICsgdCArIFwiPj5cIjsgfTtcbiAgdmFyIHBlZyRjdXJyUG9zID0gb3B0aW9ucy5wZWckY3VyclBvcyB8IDA7XG4gIHZhciBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgdmFyIHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEgfV07XG4gIHZhciBwZWckbWF4RmFpbFBvcyA9IHBlZyRjdXJyUG9zO1xuICB2YXIgcGVnJG1heEZhaWxFeHBlY3RlZCA9IG9wdGlvbnMucGVnJG1heEZhaWxFeHBlY3RlZCB8fCBbXTtcbiAgdmFyIHBlZyRzaWxlbnRGYWlscyA9IG9wdGlvbnMucGVnJHNpbGVudEZhaWxzIHwgMDtcblxuICB2YXIgcGVnJHJlc3VsdDtcblxuICBpZiAob3B0aW9ucy5zdGFydFJ1bGUpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gb2Zmc2V0KCkge1xuICAgIHJldHVybiBwZWckc2F2ZWRQb3M7XG4gIH1cblxuICBmdW5jdGlvbiByYW5nZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc291cmNlOiBwZWckc291cmNlLFxuICAgICAgc3RhcnQ6IHBlZyRzYXZlZFBvcyxcbiAgICAgIGVuZDogcGVnJGN1cnJQb3NcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbiwgbG9jYXRpb24pIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb25cbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb25cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgbG9jYXRpb24pIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb25cbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dCwgaWdub3JlQ2FzZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0LCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY2xhc3NFeHBlY3RhdGlvbihwYXJ0cywgaW52ZXJ0ZWQsIGlnbm9yZUNhc2UpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJhbnlcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZW5kXCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3MpIHtcbiAgICB2YXIgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXTtcbiAgICB2YXIgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBvcyA+PSBwZWckcG9zRGV0YWlsc0NhY2hlLmxlbmd0aCkge1xuICAgICAgICBwID0gcGVnJHBvc0RldGFpbHNDYWNoZS5sZW5ndGggLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcCA9IHBvcztcbiAgICAgICAgd2hpbGUgKCFwZWckcG9zRGV0YWlsc0NhY2hlWy0tcF0pIHt9XG4gICAgICB9XG5cbiAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdO1xuICAgICAgZGV0YWlscyA9IHtcbiAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICB9O1xuXG4gICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHArKztcbiAgICAgIH1cblxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvcywgZW5kUG9zLCBvZmZzZXQpIHtcbiAgICB2YXIgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKTtcbiAgICB2YXIgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpO1xuXG4gICAgdmFyIHJlcyA9IHtcbiAgICAgIHNvdXJjZTogcGVnJHNvdXJjZSxcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIG9mZnNldDogc3RhcnRQb3MsXG4gICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgb2Zmc2V0OiBlbmRQb3MsXG4gICAgICAgIGxpbmU6IGVuZFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG9mZnNldCAmJiBwZWckc291cmNlICYmICh0eXBlb2YgcGVnJHNvdXJjZS5vZmZzZXQgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgIHJlcy5zdGFydCA9IHBlZyRzb3VyY2Uub2Zmc2V0KHJlcy5zdGFydCk7XG4gICAgICByZXMuZW5kID0gcGVnJHNvdXJjZS5vZmZzZXQocmVzLmVuZCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBwZWckU3ludGF4RXJyb3IobWVzc2FnZSwgbnVsbCwgbnVsbCwgbG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihcbiAgICAgIHBlZyRTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkLFxuICAgICAgZm91bmQsXG4gICAgICBsb2NhdGlvblxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VtYWluKCkge1xuICAgIHZhciBzMCwgczE7XG5cbiAgICBzMCA9IFtdO1xuICAgIHMxID0gcGVnJHBhcnNlYmxvY2soKTtcbiAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwLnB1c2goczEpO1xuICAgICAgczEgPSBwZWckcGFyc2VibG9jaygpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJsb2NrKCkge1xuICAgIHZhciBzMDtcblxuICAgIHMwID0gcGVnJHBhcnNlYmliZW50cnkoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlY29tbWVudCgpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJHBhcnNlZW1wdHlfbGluZXMoKTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2Vsb29zZV9saW5lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VlbXB0eV9saW5lcygpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBbXTtcbiAgICBzMyA9IHBlZyRwYXJzZWVtcHR5X2xpbmUoKTtcbiAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckcGFyc2VlbXB0eV9saW5lKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IGlucHV0LnN1YnN0cmluZyhzMSwgcGVnJGN1cnJQb3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHMyO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckZjAoKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJpYmVudHJ5KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2NCkge1xuICAgICAgczEgPSBwZWckYzA7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgczMgPSBbXTtcbiAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIGlmIChwZWckcjAudGVzdChzNCkpIHtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTEpOyB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgaWYgKHBlZyRyMC50ZXN0KHM0KSkge1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzMiA9IGlucHV0LnN1YnN0cmluZyhzMiwgcGVnJGN1cnJQb3MpO1xuICAgICAgczMgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgICAgczQgPSBwZWckYzE7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUyKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKTtcbiAgICAgICAgczYgPSBwZWckY3VyclBvcztcbiAgICAgICAgczcgPSBbXTtcbiAgICAgICAgczggPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBpZiAocGVnJHIxLnRlc3QoczgpKSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgd2hpbGUgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNy5wdXNoKHM4KTtcbiAgICAgICAgICAgIHM4ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIGlmIChwZWckcjEudGVzdChzOCkpIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IGlucHV0LnN1YnN0cmluZyhzNiwgcGVnJGN1cnJQb3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM2ID0gczc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczcgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgIHM4ID0gcGVnJGMyO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTQpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczkgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgICAgICAgczEwID0gcGVnJHBhcnNlZmllbGRzKCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICBzMTEgPSBwZWckYzM7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMTEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKTtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGYxKHMyLCBzNiwgczEwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VmaWVsZHMoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIHMyID0gcGVnJHBhcnNlZmllbGQoKTtcbiAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxLnB1c2goczIpO1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHMzID0gcGVnJHBhcnNlZGVsaW1pdGVyKCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VmaWVsZCgpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHMzO1xuICAgICAgfVxuICAgIH1cbiAgICBzMiA9IHBlZyRwYXJzZWRlbGltaXRlcigpO1xuICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBudWxsO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZmllbGQoKSB7XG4gICAgdmFyIHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VnZW5lcmljX2ZpZWxkKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZXN0cmljdF9maWVsZCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0cmljdF9maWVsZCgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgczMgPSBbXTtcbiAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgaWYgKHBlZyRyMi50ZXN0KHM0KSkge1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTYpOyB9XG4gICAgfVxuICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIGlmIChwZWckcjIudGVzdChzNCkpIHtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNik7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBpbnB1dC5zdWJzdHJpbmcoczIsIHBlZyRjdXJyUG9zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgczIgPSBzMztcbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMyA9IHBlZyRwYXJzZWVtcHR5X2NoYXJzKCk7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgIHM0ID0gcGVnJGM0O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZWVtcHR5X2NoYXJzKCk7XG4gICAgICAgIHM2ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM3ID0gW107XG4gICAgICAgIHM4ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgaWYgKHBlZyRyMy50ZXN0KHM4KSkge1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGU4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcucHVzaChzOCk7XG4gICAgICAgICAgICBzOCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBpZiAocGVnJHIzLnRlc3QoczgpKSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGU4KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBpbnB1dC5zdWJzdHJpbmcoczYsIHBlZyRjdXJyUG9zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNiA9IHM3O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKTtcbiAgICAgICAgICBzMCA9IFsgczIsIHM2IF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VnZW5lcmljX2ZpZWxkKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKTtcbiAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgIHMzID0gW107XG4gICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgIGlmIChwZWckcjIudGVzdChzNCkpIHtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGU2KTsgfVxuICAgIH1cbiAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBpZiAocGVnJHIyLnRlc3QoczQpKSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTYpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gaW5wdXQuc3Vic3RyaW5nKHMyLCBwZWckY3VyclBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gczM7XG4gICAgfVxuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczMgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICBzNCA9IHBlZyRjNDtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgICBzNiA9IHBlZyRwYXJzZWN1cmx5X2JyYWNrZXRzKCk7XG4gICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKTtcbiAgICAgICAgICBzMCA9IFsgczIsIHM2IF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWxpbWl0ZXIoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWVtcHR5X2NoYXJzKCk7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgczIgPSBwZWckYzI7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNCk7IH1cbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMyA9IHBlZyRwYXJzZWVtcHR5X2NoYXJzKCk7XG4gICAgICBzMSA9IFtzMSwgczIsIHMzXTtcbiAgICAgIHMwID0gczE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY3VybHlfYnJhY2tldHMoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzE7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgczMgPSBbXTtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzUpIHtcbiAgICAgICAgczQgPSBwZWckYzU7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGU5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzYpIHtcbiAgICAgICAgICBzNCA9IHBlZyRjNjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMTApOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VjdXJseV9icmFja2V0cygpO1xuICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMzO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiBwZWckY3VyclBvcykge1xuICAgICAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMTEpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBbczUsIHM2XTtcbiAgICAgICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzUpIHtcbiAgICAgICAgICBzNCA9IHBlZyRjNTtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlOSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM2KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxMCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWN1cmx5X2JyYWNrZXRzKCk7XG4gICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckYzM7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTUpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiBwZWckY3VyclBvcykge1xuICAgICAgICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTExKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gW3M1LCBzNl07XG4gICAgICAgICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgczIgPSBpbnB1dC5zdWJzdHJpbmcoczIsIHBlZyRjdXJyUG9zKTtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgIHMzID0gcGVnJGMzO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlNSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHMyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWNvbW1lbnQoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBwZWckY3VyclBvcztcbiAgICBzMyA9IFtdO1xuICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczMucHVzaChzNCk7XG4gICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICB9XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNykge1xuICAgICAgczQgPSBwZWckYzc7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMTIpOyB9XG4gICAgfVxuICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczUgPSBwZWckcGFyc2Vsb29zZV9saW5lKCk7XG4gICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbczMsIHM0LCBzNV07XG4gICAgICAgIHMyID0gczM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBpbnB1dC5zdWJzdHJpbmcoczEsIHBlZyRjdXJyUG9zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBzMjtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGYyKCk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vsb29zZV9saW5lKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBwZWckY3VyclBvcztcbiAgICBzMyA9IFtdO1xuICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICBpZiAocGVnJHI0LnRlc3QoczQpKSB7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRlMTMpOyB9XG4gICAgfVxuICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczMucHVzaChzNCk7XG4gICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBpZiAocGVnJHI0LnRlc3QoczQpKSB7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxMyk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgczQgPSBwZWckcGFyc2VuZXdsaW5lKCk7XG4gICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMyA9IFtzMywgczRdO1xuICAgICAgczIgPSBzMztcbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IGlucHV0LnN1YnN0cmluZyhzMSwgcGVnJGN1cnJQb3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHMyO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckZjMoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbm90X25ld2xpbmUoKSB7XG4gICAgdmFyIHMwLCBzMTtcblxuICAgIHMwID0gW107XG4gICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgIGlmIChwZWckcjQudGVzdChzMSkpIHtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxMyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAucHVzaChzMSk7XG4gICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgaWYgKHBlZyRyNC50ZXN0KHMxKSkge1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxMyk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3bGluZSgpIHtcbiAgICB2YXIgczA7XG5cbiAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgaWYgKHBlZyRyNS50ZXN0KHMwKSkge1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTE0KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWVtcHR5X2xpbmUoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgIHMyID0gW107XG4gICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMi5wdXNoKHMzKTtcbiAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgIH1cbiAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgaWYgKHBlZyRyNS50ZXN0KHMzKSkge1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTE0KTsgfVxuICAgIH1cbiAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICBzMSA9IHMyO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gaW5wdXQuc3Vic3RyaW5nKHMwLCBwZWckY3VyclBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gczE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZW1wdHlfY2hhcnMoKSB7XG4gICAgdmFyIHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgIGlmIChwZWckcjYudGVzdChzMikpIHtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGUxNSk7IH1cbiAgICB9XG4gICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIGlmIChwZWckcjYudGVzdChzMikpIHtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTE1KTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBzMCA9IGlucHV0LnN1YnN0cmluZyhzMCwgcGVnJGN1cnJQb3MpO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc3BhY2VyKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgIHMzID0gcGVnJGMyO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTQpOyB9XG4gICAgfVxuICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczQgPSBwZWckcGFyc2VlbXB0eV9jaGFycygpO1xuICAgICAgczIgPSBbczIsIHMzLCBzNF07XG4gICAgICBzMSA9IHMyO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gaW5wdXQuc3Vic3RyaW5nKHMwLCBwZWckY3VyclBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gczE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlXygpIHtcbiAgICB2YXIgczA7XG5cbiAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgaWYgKHBlZyRyNy50ZXN0KHMwKSkge1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckZTE2KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG5cbiAgbGV0IGNvdW50ID0gMDtcblxuICBjb25zdCBNYXhNYXRjaGVzUmVhY2hlZEVycm9yID0gb3B0aW9ucy5NYXhNYXRjaGVzUmVhY2hlZEVycm9yID8/IEVycm9yO1xuICBjb25zdCBtYXhNYXRjaGVzID0gb3B0aW9ucy5tYXhNYXRjaGVzID8/IDEwMDsgIC8vIERlZmluZSB0aGUgbWF4aW11bSBudW1iZXIgb2YgbWF0Y2hlc1xuICBjb25zdCBwYXJzZWREYXRhID0gb3B0aW9ucy5wYXJzZWREYXRhID8/IHt9O1xuXG4gIHBlZyRyZXN1bHQgPSBwZWckc3RhcnRSdWxlRnVuY3Rpb24oKTtcblxuICBpZiAob3B0aW9ucy5wZWckbGlicmFyeSkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2FueX0gKi8gKHtcbiAgICAgIHBlZyRyZXN1bHQsXG4gICAgICBwZWckY3VyclBvcyxcbiAgICAgIHBlZyRGQUlMRUQsXG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLFxuICAgICAgcGVnJG1heEZhaWxQb3NcbiAgICB9KTtcbiAgfVxuICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHBlZyRyZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgIHBlZyRmYWlsKHBlZyRlbmRFeHBlY3RhdGlvbigpKTtcbiAgICB9XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocGVnJG1heEZhaWxQb3MpIDogbnVsbCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoXG4gICAgICAgID8gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MgKyAxKVxuICAgICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zKVxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcGVnJGFsbG93ZWRTdGFydFJ1bGVzID0gW1xuICBcIm1haW5cIlxuXTtcblxuZXhwb3J0IHtcbiAgcGVnJGFsbG93ZWRTdGFydFJ1bGVzIGFzIFN0YXJ0UnVsZXMsXG4gIHBlZyRTeW50YXhFcnJvciBhcyBTeW50YXhFcnJvcixcbiAgcGVnJHBhcnNlIGFzIHBhcnNlXG59O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLHNCQUFzRTtBQUN0RSxnQkFBK0I7QUFDL0IsV0FBc0I7OztBQ0N0QixTQUFTLGFBQWEsT0FBTyxRQUFRO0FBQ25DLFdBQVMsSUFBSTtBQUFFLFNBQUssY0FBYztBQUFBLEVBQU87QUFDekMsSUFBRSxZQUFZLE9BQU87QUFDckIsUUFBTSxZQUFZLElBQUksRUFBRTtBQUMxQjtBQUVBLFNBQVMsZ0JBQWdCLFNBQVMsVUFBVSxPQUFPLFVBQVU7QUFDM0QsTUFBSSxPQUFPLE1BQU0sS0FBSyxNQUFNLE9BQU87QUFFbkMsTUFBSSxPQUFPLGdCQUFnQjtBQUN6QixXQUFPLGVBQWUsTUFBTSxnQkFBZ0IsU0FBUztBQUFBLEVBQ3ZEO0FBQ0EsT0FBSyxXQUFXO0FBQ2hCLE9BQUssUUFBUTtBQUNiLE9BQUssV0FBVztBQUNoQixPQUFLLE9BQU87QUFDWixTQUFPO0FBQ1Q7QUFFQSxhQUFhLGlCQUFpQixLQUFLO0FBRW5DLFNBQVMsV0FBVyxLQUFLLGNBQWMsV0FBVztBQUNoRCxjQUFZLGFBQWE7QUFDekIsTUFBSSxJQUFJLFNBQVMsY0FBYztBQUFFLFdBQU87QUFBQSxFQUFLO0FBQzdDLGtCQUFnQixJQUFJO0FBQ3BCLGVBQWEsVUFBVSxPQUFPLFlBQVk7QUFDMUMsU0FBTyxNQUFNLFVBQVUsTUFBTSxHQUFHLFlBQVk7QUFDOUM7QUFFQSxnQkFBZ0IsVUFBVSxTQUFTLFNBQVMsU0FBUztBQUNuRCxNQUFJLE1BQU0sWUFBWSxLQUFLO0FBQzNCLE1BQUksS0FBSyxVQUFVO0FBQ2pCLFFBQUksTUFBTTtBQUNWLFFBQUk7QUFDSixTQUFLLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUSxLQUFLO0FBQ25DLFVBQUksUUFBUSxDQUFDLEVBQUUsV0FBVyxLQUFLLFNBQVMsUUFBUTtBQUM5QyxjQUFNLFFBQVEsQ0FBQyxFQUFFLEtBQUssTUFBTSxhQUFhO0FBQ3pDO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFDQSxRQUFJLElBQUksS0FBSyxTQUFTO0FBQ3RCLFFBQUksV0FBWSxLQUFLLFNBQVMsVUFBVyxPQUFPLEtBQUssU0FBUyxPQUFPLFdBQVcsYUFDNUUsS0FBSyxTQUFTLE9BQU8sT0FBTyxDQUFDLElBQzdCO0FBQ0osUUFBSSxNQUFNLEtBQUssU0FBUyxTQUFTLE1BQU0sU0FBUyxPQUFPLE1BQU0sU0FBUztBQUN0RSxRQUFJLEtBQUs7QUFDUCxVQUFJLElBQUksS0FBSyxTQUFTO0FBQ3RCLFVBQUksU0FBUyxXQUFXLElBQUksU0FBUyxLQUFLLFNBQVMsRUFBRSxRQUFRLEdBQUc7QUFDaEUsVUFBSSxPQUFPLElBQUksRUFBRSxPQUFPLENBQUM7QUFDekIsVUFBSSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxTQUFTLEtBQUssU0FBUztBQUN4RCxVQUFJLFNBQVUsT0FBTyxFQUFFLFVBQVc7QUFDbEMsYUFBTyxZQUFZLE1BQU0sT0FDbkIsU0FBUyxTQUNULFNBQVMsT0FBTyxRQUFRLE9BQU8sT0FDL0IsU0FBUyxRQUFRLFdBQVcsSUFBSSxFQUFFLFNBQVMsR0FBRyxHQUFHLElBQ2pELFdBQVcsSUFBSSxRQUFRLEdBQUc7QUFBQSxJQUNsQyxPQUFPO0FBQ0wsYUFBTyxXQUFXO0FBQUEsSUFDcEI7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUO0FBRUEsZ0JBQWdCLGVBQWUsU0FBUyxVQUFVLE9BQU87QUFDdkQsTUFBSSwyQkFBMkI7QUFBQSxJQUM3QixTQUFTLFNBQVMsYUFBYTtBQUM3QixhQUFPLE1BQU8sY0FBYyxZQUFZLElBQUksSUFBSTtBQUFBLElBQ2xEO0FBQUEsSUFFQSxPQUFPLFNBQVMsYUFBYTtBQUMzQixVQUFJLGVBQWUsWUFBWSxNQUFNLElBQUksU0FBUyxNQUFNO0FBQ3RELGVBQU8sTUFBTSxRQUFRLElBQUksSUFDckIsWUFBWSxLQUFLLENBQUMsQ0FBQyxJQUFJLE1BQU0sWUFBWSxLQUFLLENBQUMsQ0FBQyxJQUNoRCxZQUFZLElBQUk7QUFBQSxNQUN0QixDQUFDO0FBRUQsYUFBTyxPQUFPLFlBQVksV0FBVyxNQUFNLE1BQU0sYUFBYSxLQUFLLEVBQUUsSUFBSTtBQUFBLElBQzNFO0FBQUEsSUFFQSxLQUFLLFdBQVc7QUFDZCxhQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsS0FBSyxXQUFXO0FBQ2QsYUFBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLE9BQU8sU0FBUyxhQUFhO0FBQzNCLGFBQU8sWUFBWTtBQUFBLElBQ3JCO0FBQUEsRUFDRjtBQUVBLFdBQVMsSUFBSSxJQUFJO0FBQ2YsV0FBTyxHQUFHLFdBQVcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLFlBQVk7QUFBQSxFQUNuRDtBQUVBLFdBQVMsY0FBYyxHQUFHO0FBQ3hCLFdBQU8sRUFDSixRQUFRLE9BQU8sTUFBTSxFQUNyQixRQUFRLE1BQU8sS0FBTSxFQUNyQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLGdCQUF5QixTQUFTLElBQUk7QUFBRSxhQUFPLFNBQVMsSUFBSSxFQUFFO0FBQUEsSUFBRyxDQUFDLEVBQzFFLFFBQVEseUJBQXlCLFNBQVMsSUFBSTtBQUFFLGFBQU8sUUFBUyxJQUFJLEVBQUU7QUFBQSxJQUFHLENBQUM7QUFBQSxFQUMvRTtBQUVBLFdBQVMsWUFBWSxHQUFHO0FBQ3RCLFdBQU8sRUFDSixRQUFRLE9BQU8sTUFBTSxFQUNyQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE1BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLE9BQU8sS0FBSyxFQUNwQixRQUFRLGdCQUF5QixTQUFTLElBQUk7QUFBRSxhQUFPLFNBQVMsSUFBSSxFQUFFO0FBQUEsSUFBRyxDQUFDLEVBQzFFLFFBQVEseUJBQXlCLFNBQVMsSUFBSTtBQUFFLGFBQU8sUUFBUyxJQUFJLEVBQUU7QUFBQSxJQUFHLENBQUM7QUFBQSxFQUMvRTtBQUVBLFdBQVMsb0JBQW9CLGFBQWE7QUFDeEMsV0FBTyx5QkFBeUIsWUFBWSxJQUFJLEVBQUUsV0FBVztBQUFBLEVBQy9EO0FBRUEsV0FBUyxpQkFBaUJBLFdBQVU7QUFDbEMsUUFBSSxlQUFlQSxVQUFTLElBQUksbUJBQW1CO0FBQ25ELFFBQUksR0FBRztBQUVQLGlCQUFhLEtBQUs7QUFFbEIsUUFBSSxhQUFhLFNBQVMsR0FBRztBQUMzQixXQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxhQUFhLFFBQVEsS0FBSztBQUMvQyxZQUFJLGFBQWEsSUFBSSxDQUFDLE1BQU0sYUFBYSxDQUFDLEdBQUc7QUFDM0MsdUJBQWEsQ0FBQyxJQUFJLGFBQWEsQ0FBQztBQUNoQztBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQ0EsbUJBQWEsU0FBUztBQUFBLElBQ3hCO0FBRUEsWUFBUSxhQUFhLFFBQVE7QUFBQSxNQUMzQixLQUFLO0FBQ0gsZUFBTyxhQUFhLENBQUM7QUFBQSxNQUV2QixLQUFLO0FBQ0gsZUFBTyxhQUFhLENBQUMsSUFBSSxTQUFTLGFBQWEsQ0FBQztBQUFBLE1BRWxEO0FBQ0UsZUFBTyxhQUFhLE1BQU0sR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLElBQ3RDLFVBQ0EsYUFBYSxhQUFhLFNBQVMsQ0FBQztBQUFBLElBQzVDO0FBQUEsRUFDRjtBQUVBLFdBQVMsY0FBY0MsUUFBTztBQUM1QixXQUFPQSxTQUFRLE1BQU8sY0FBY0EsTUFBSyxJQUFJLE1BQU87QUFBQSxFQUN0RDtBQUVBLFNBQU8sY0FBYyxpQkFBaUIsUUFBUSxJQUFJLFVBQVUsY0FBYyxLQUFLLElBQUk7QUFDckY7QUFFQSxTQUFTLFVBQVUsT0FBTyxTQUFTO0FBeEtuQztBQXlLRSxZQUFVLFlBQVksU0FBWSxVQUFVLENBQUM7QUFFN0MsTUFBSSxhQUFhLENBQUM7QUFDbEIsTUFBSSxhQUFhLFFBQVE7QUFFekIsTUFBSSx5QkFBeUIsRUFBRSxNQUFNLGNBQWM7QUFDbkQsTUFBSSx3QkFBd0I7QUFFNUIsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBRWIsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBQ2IsTUFBSSxTQUFTO0FBRWIsTUFBSSxTQUFTLHVCQUF1QixLQUFLLEtBQUs7QUFDOUMsTUFBSSxTQUFTLHFCQUFxQixDQUFDLEtBQUssR0FBRyxHQUFHLE1BQU0sS0FBSztBQUN6RCxNQUFJLFNBQVMsdUJBQXVCLEtBQUssS0FBSztBQUM5QyxNQUFJLFNBQVMscUJBQXFCLENBQUMsS0FBSyxHQUFHLEdBQUcsTUFBTSxLQUFLO0FBQ3pELE1BQUksU0FBUyx1QkFBdUIsS0FBSyxLQUFLO0FBQzlDLE1BQUksU0FBUyx1QkFBdUIsS0FBSyxLQUFLO0FBQzlDLE1BQUksU0FBUyxxQkFBcUIsQ0FBQyxLQUFLLEdBQUcsR0FBRyxNQUFNLEtBQUs7QUFDekQsTUFBSSxTQUFTLHVCQUF1QixLQUFLLEtBQUs7QUFDOUMsTUFBSSxTQUFTLHFCQUFxQixDQUFDLEtBQUssR0FBRyxHQUFHLE1BQU0sS0FBSztBQUN6RCxNQUFJLFNBQVMsdUJBQXVCLE9BQU8sS0FBSztBQUNoRCxNQUFJLFVBQVUsdUJBQXVCLE9BQU8sS0FBSztBQUNqRCxNQUFJLFVBQVUsbUJBQW1CO0FBQ2pDLE1BQUksVUFBVSx1QkFBdUIsS0FBSyxLQUFLO0FBQy9DLE1BQUksVUFBVSxxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsTUFBTSxLQUFLO0FBQ3RELE1BQUksVUFBVSxxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsT0FBTyxLQUFLO0FBQ3ZELE1BQUksVUFBVSxxQkFBcUIsQ0FBQyxLQUFLLE1BQU0sR0FBSSxHQUFHLE9BQU8sS0FBSztBQUNsRSxNQUFJLFVBQVUscUJBQXFCLENBQUMsS0FBSyxHQUFJLEdBQUcsT0FBTyxLQUFLO0FBRTVELE1BQUksU0FBUyxXQUFXO0FBQUUsV0FBTztBQUFBLEVBQU07QUFDdkMsTUFBSSxTQUFTLFNBQVMsTUFBTSxTQUFTLEdBQUc7QUFFdEMsTUFBRSxPQUFPO0FBQ1QsVUFBTSxVQUFVLEVBQUUsT0FBTyxDQUFDLEtBQUssWUFBWTtBQUN6QyxVQUFJLFFBQVEsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDO0FBQzNCLGFBQU87QUFBQSxJQUNULEdBQUcsQ0FBQyxDQUFDO0FBR0wsUUFBSSxXQUFXLFlBQVk7QUFDekIsWUFBTSxJQUFJQyx3QkFBdUIsdUJBQXVCLFNBQVMsQ0FBQztBQUFBLElBQ3BFO0FBRUEsZUFBVyxPQUFPLElBQUk7QUFFdEIsV0FBTztBQUFBLEVBQ1Q7QUFDQSxNQUFJLFNBQVMsV0FBVztBQUFFLFdBQU87QUFBQSxFQUFNO0FBQ3ZDLE1BQUksU0FBUyxTQUFTLEdBQUc7QUFBRSxXQUFPLE9BQU8sSUFBSTtBQUFBLEVBQU07QUFDbkQsTUFBSSxjQUFjLFFBQVEsY0FBYztBQUN4QyxNQUFJLGVBQWU7QUFDbkIsTUFBSSxzQkFBc0IsQ0FBQyxFQUFFLE1BQU0sR0FBRyxRQUFRLEVBQUUsQ0FBQztBQUNqRCxNQUFJLGlCQUFpQjtBQUNyQixNQUFJLHNCQUFzQixRQUFRLHVCQUF1QixDQUFDO0FBQzFELE1BQUksa0JBQWtCLFFBQVEsa0JBQWtCO0FBRWhELE1BQUk7QUFFSixNQUFJLFFBQVEsV0FBVztBQUNyQixRQUFJLEVBQUUsUUFBUSxhQUFhLHlCQUF5QjtBQUNsRCxZQUFNLElBQUksTUFBTSxvQ0FBcUMsUUFBUSxZQUFZLElBQUs7QUFBQSxJQUNoRjtBQUVBLDRCQUF3Qix1QkFBdUIsUUFBUSxTQUFTO0FBQUEsRUFDbEU7QUFFQSxXQUFTLE9BQU87QUFDZCxXQUFPLE1BQU0sVUFBVSxjQUFjLFdBQVc7QUFBQSxFQUNsRDtBQUVBLFdBQVMsU0FBUztBQUNoQixXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsUUFBUTtBQUNmLFdBQU87QUFBQSxNQUNMLFFBQVE7QUFBQSxNQUNSLE9BQU87QUFBQSxNQUNQLEtBQUs7QUFBQSxJQUNQO0FBQUEsRUFDRjtBQUVBLFdBQVMsV0FBVztBQUNsQixXQUFPLG9CQUFvQixjQUFjLFdBQVc7QUFBQSxFQUN0RDtBQUVBLFdBQVMsU0FBUyxhQUFhQyxXQUFVO0FBQ3ZDLElBQUFBLFlBQVdBLGNBQWEsU0FDcEJBLFlBQ0Esb0JBQW9CLGNBQWMsV0FBVztBQUVqRCxVQUFNO0FBQUEsTUFDSixDQUFDLHFCQUFxQixXQUFXLENBQUM7QUFBQSxNQUNsQyxNQUFNLFVBQVUsY0FBYyxXQUFXO0FBQUEsTUFDekNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxXQUFTLE1BQU0sU0FBU0EsV0FBVTtBQUNoQyxJQUFBQSxZQUFXQSxjQUFhLFNBQ3BCQSxZQUNBLG9CQUFvQixjQUFjLFdBQVc7QUFFakQsVUFBTSxxQkFBcUIsU0FBU0EsU0FBUTtBQUFBLEVBQzlDO0FBRUEsV0FBUyx1QkFBdUJDLE9BQU0sWUFBWTtBQUNoRCxXQUFPLEVBQUUsTUFBTSxXQUFXLE1BQU1BLE9BQU0sV0FBdUI7QUFBQSxFQUMvRDtBQUVBLFdBQVMscUJBQXFCLE9BQU8sVUFBVSxZQUFZO0FBQ3pELFdBQU8sRUFBRSxNQUFNLFNBQVMsT0FBYyxVQUFvQixXQUF1QjtBQUFBLEVBQ25GO0FBRUEsV0FBUyxxQkFBcUI7QUFDNUIsV0FBTyxFQUFFLE1BQU0sTUFBTTtBQUFBLEVBQ3ZCO0FBRUEsV0FBUyxxQkFBcUI7QUFDNUIsV0FBTyxFQUFFLE1BQU0sTUFBTTtBQUFBLEVBQ3ZCO0FBRUEsV0FBUyxxQkFBcUIsYUFBYTtBQUN6QyxXQUFPLEVBQUUsTUFBTSxTQUFTLFlBQXlCO0FBQUEsRUFDbkQ7QUFFQSxXQUFTLHNCQUFzQixLQUFLO0FBQ2xDLFFBQUksVUFBVSxvQkFBb0IsR0FBRztBQUNyQyxRQUFJO0FBRUosUUFBSSxTQUFTO0FBQ1gsYUFBTztBQUFBLElBQ1QsT0FBTztBQUNMLFVBQUksT0FBTyxvQkFBb0IsUUFBUTtBQUNyQyxZQUFJLG9CQUFvQixTQUFTO0FBQUEsTUFDbkMsT0FBTztBQUNMLFlBQUk7QUFDSixlQUFPLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxHQUFHO0FBQUEsUUFBQztBQUFBLE1BQ3JDO0FBRUEsZ0JBQVUsb0JBQW9CLENBQUM7QUFDL0IsZ0JBQVU7QUFBQSxRQUNSLE1BQU0sUUFBUTtBQUFBLFFBQ2QsUUFBUSxRQUFRO0FBQUEsTUFDbEI7QUFFQSxhQUFPLElBQUksS0FBSztBQUNkLFlBQUksTUFBTSxXQUFXLENBQUMsTUFBTSxJQUFJO0FBQzlCLGtCQUFRO0FBQ1Isa0JBQVEsU0FBUztBQUFBLFFBQ25CLE9BQU87QUFDTCxrQkFBUTtBQUFBLFFBQ1Y7QUFFQTtBQUFBLE1BQ0Y7QUFFQSwwQkFBb0IsR0FBRyxJQUFJO0FBRTNCLGFBQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUVBLFdBQVMsb0JBQW9CLFVBQVUsUUFBUUMsU0FBUTtBQUNyRCxRQUFJLGtCQUFrQixzQkFBc0IsUUFBUTtBQUNwRCxRQUFJLGdCQUFnQixzQkFBc0IsTUFBTTtBQUVoRCxRQUFJLE1BQU07QUFBQSxNQUNSLFFBQVE7QUFBQSxNQUNSLE9BQU87QUFBQSxRQUNMLFFBQVE7QUFBQSxRQUNSLE1BQU0sZ0JBQWdCO0FBQUEsUUFDdEIsUUFBUSxnQkFBZ0I7QUFBQSxNQUMxQjtBQUFBLE1BQ0EsS0FBSztBQUFBLFFBQ0gsUUFBUTtBQUFBLFFBQ1IsTUFBTSxjQUFjO0FBQUEsUUFDcEIsUUFBUSxjQUFjO0FBQUEsTUFDeEI7QUFBQSxJQUNGO0FBQ0EsUUFBSUEsV0FBVSxjQUFlLE9BQU8sV0FBVyxXQUFXLFlBQWE7QUFDckUsVUFBSSxRQUFRLFdBQVcsT0FBTyxJQUFJLEtBQUs7QUFDdkMsVUFBSSxNQUFNLFdBQVcsT0FBTyxJQUFJLEdBQUc7QUFBQSxJQUNyQztBQUNBLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxTQUFTTCxXQUFVO0FBQzFCLFFBQUksY0FBYyxnQkFBZ0I7QUFBRTtBQUFBLElBQVE7QUFFNUMsUUFBSSxjQUFjLGdCQUFnQjtBQUNoQyx1QkFBaUI7QUFDakIsNEJBQXNCLENBQUM7QUFBQSxJQUN6QjtBQUVBLHdCQUFvQixLQUFLQSxTQUFRO0FBQUEsRUFDbkM7QUFFQSxXQUFTLHFCQUFxQixTQUFTRyxXQUFVO0FBQy9DLFdBQU8sSUFBSSxnQkFBZ0IsU0FBUyxNQUFNLE1BQU1BLFNBQVE7QUFBQSxFQUMxRDtBQUVBLFdBQVMseUJBQXlCSCxXQUFVLE9BQU9HLFdBQVU7QUFDM0QsV0FBTyxJQUFJO0FBQUEsTUFDVCxnQkFBZ0IsYUFBYUgsV0FBVSxLQUFLO0FBQUEsTUFDNUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0FHO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxXQUFTLGdCQUFnQjtBQUN2QixRQUFJLElBQUk7QUFFUixTQUFLLENBQUM7QUFDTixTQUFLLGVBQWU7QUFDcEIsV0FBTyxPQUFPLFlBQVk7QUFDeEIsU0FBRyxLQUFLLEVBQUU7QUFDVixXQUFLLGVBQWU7QUFBQSxJQUN0QjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxpQkFBaUI7QUFDeEIsUUFBSTtBQUVKLFNBQUssa0JBQWtCO0FBQ3ZCLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUssaUJBQWlCO0FBQ3RCLFVBQUksT0FBTyxZQUFZO0FBQ3JCLGFBQUsscUJBQXFCO0FBQzFCLFlBQUksT0FBTyxZQUFZO0FBQ3JCLGVBQUssb0JBQW9CO0FBQUEsUUFDM0I7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyx1QkFBdUI7QUFDOUIsUUFBSSxJQUFJLElBQUksSUFBSTtBQUVoQixTQUFLO0FBQ0wsU0FBSztBQUNMLFNBQUssQ0FBQztBQUNOLFNBQUssb0JBQW9CO0FBQ3pCLFFBQUksT0FBTyxZQUFZO0FBQ3JCLGFBQU8sT0FBTyxZQUFZO0FBQ3hCLFdBQUcsS0FBSyxFQUFFO0FBQ1YsYUFBSyxvQkFBb0I7QUFBQSxNQUMzQjtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsSUFDdEMsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIscUJBQWU7QUFDZixXQUFLLE9BQU87QUFBQSxJQUNkO0FBQ0EsU0FBSztBQUVMLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxvQkFBb0I7QUFDM0IsUUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSztBQUV0RCxTQUFLO0FBQ0wsUUFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLElBQUk7QUFDeEMsV0FBSztBQUNMO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxNQUFNO0FBQUEsTUFBRztBQUFBLElBQ2pEO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSztBQUNMLFdBQUssQ0FBQztBQUNOLFdBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsVUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsTUFDRixPQUFPO0FBQ0wsYUFBSztBQUNMLFlBQUksb0JBQW9CLEdBQUc7QUFBRSxtQkFBUyxNQUFNO0FBQUEsUUFBRztBQUFBLE1BQ2pEO0FBQ0EsYUFBTyxPQUFPLFlBQVk7QUFDeEIsV0FBRyxLQUFLLEVBQUU7QUFDVixhQUFLLE1BQU0sT0FBTyxXQUFXO0FBQzdCLFlBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLFFBQ0YsT0FBTztBQUNMLGVBQUs7QUFDTCxjQUFJLG9CQUFvQixHQUFHO0FBQUUscUJBQVMsTUFBTTtBQUFBLFVBQUc7QUFBQSxRQUNqRDtBQUFBLE1BQ0Y7QUFDQSxXQUFLLE1BQU0sVUFBVSxJQUFJLFdBQVc7QUFDcEMsV0FBSyxxQkFBcUI7QUFDMUIsVUFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLEtBQUs7QUFDekMsYUFBSztBQUNMO0FBQUEsTUFDRixPQUFPO0FBQ0wsYUFBSztBQUNMLFlBQUksb0JBQW9CLEdBQUc7QUFBRSxtQkFBUyxNQUFNO0FBQUEsUUFBRztBQUFBLE1BQ2pEO0FBQ0EsVUFBSSxPQUFPLFlBQVk7QUFDckIsYUFBSyxxQkFBcUI7QUFDMUIsYUFBSztBQUNMLGFBQUssQ0FBQztBQUNOLGFBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsWUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsUUFDRixPQUFPO0FBQ0wsZUFBSztBQUNMLGNBQUksb0JBQW9CLEdBQUc7QUFBRSxxQkFBUyxNQUFNO0FBQUEsVUFBRztBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsaUJBQU8sT0FBTyxZQUFZO0FBQ3hCLGVBQUcsS0FBSyxFQUFFO0FBQ1YsaUJBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsZ0JBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLFlBQ0YsT0FBTztBQUNMLG1CQUFLO0FBQ0wsa0JBQUksb0JBQW9CLEdBQUc7QUFBRSx5QkFBUyxNQUFNO0FBQUEsY0FBRztBQUFBLFlBQ2pEO0FBQUEsVUFDRjtBQUFBLFFBQ0YsT0FBTztBQUNMLGVBQUs7QUFBQSxRQUNQO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsZUFBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsUUFDdEMsT0FBTztBQUNMLGVBQUs7QUFBQSxRQUNQO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsZUFBSyxxQkFBcUI7QUFDMUIsY0FBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLElBQUk7QUFDeEMsaUJBQUs7QUFDTDtBQUFBLFVBQ0YsT0FBTztBQUNMLGlCQUFLO0FBQ0wsZ0JBQUksb0JBQW9CLEdBQUc7QUFBRSx1QkFBUyxNQUFNO0FBQUEsWUFBRztBQUFBLFVBQ2pEO0FBQ0EsY0FBSSxPQUFPLFlBQVk7QUFDckIsaUJBQUsscUJBQXFCO0FBQzFCLGtCQUFNLGdCQUFnQjtBQUN0QixnQkFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLEtBQUs7QUFDekMsb0JBQU07QUFDTjtBQUFBLFlBQ0YsT0FBTztBQUNMLG9CQUFNO0FBQ04sa0JBQUksb0JBQW9CLEdBQUc7QUFBRSx5QkFBUyxNQUFNO0FBQUEsY0FBRztBQUFBLFlBQ2pEO0FBQ0EsZ0JBQUksUUFBUSxZQUFZO0FBQ3RCLG9CQUFNLHFCQUFxQjtBQUMzQiw2QkFBZTtBQUNmLG1CQUFLLE9BQU8sSUFBSSxJQUFJLEdBQUc7QUFBQSxZQUN6QixPQUFPO0FBQ0wsNEJBQWM7QUFDZCxtQkFBSztBQUFBLFlBQ1A7QUFBQSxVQUNGLE9BQU87QUFDTCwwQkFBYztBQUNkLGlCQUFLO0FBQUEsVUFDUDtBQUFBLFFBQ0YsT0FBTztBQUNMLHdCQUFjO0FBQ2QsZUFBSztBQUFBLFFBQ1A7QUFBQSxNQUNGLE9BQU87QUFDTCxzQkFBYztBQUNkLGFBQUs7QUFBQSxNQUNQO0FBQUEsSUFDRixPQUFPO0FBQ0wsb0JBQWM7QUFDZCxXQUFLO0FBQUEsSUFDUDtBQUVBLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxrQkFBa0I7QUFDekIsUUFBSSxJQUFJLElBQUksSUFBSTtBQUVoQixTQUFLO0FBQ0wsU0FBSyxDQUFDO0FBQ04sU0FBSyxlQUFlO0FBQ3BCLFdBQU8sT0FBTyxZQUFZO0FBQ3hCLFNBQUcsS0FBSyxFQUFFO0FBQ1YsV0FBSztBQUNMLFdBQUssbUJBQW1CO0FBQ3hCLFVBQUksT0FBTyxZQUFZO0FBQ3JCLGFBQUssZUFBZTtBQUNwQixZQUFJLE9BQU8sWUFBWTtBQUNyQix3QkFBYztBQUNkLGVBQUs7QUFBQSxRQUNQLE9BQU87QUFDTCxlQUFLO0FBQUEsUUFDUDtBQUFBLE1BQ0YsT0FBTztBQUNMLGFBQUs7QUFBQSxNQUNQO0FBQUEsSUFDRjtBQUNBLFNBQUssbUJBQW1CO0FBQ3hCLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUs7QUFBQSxJQUNQO0FBQ0EsU0FBSztBQUVMLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxpQkFBaUI7QUFDeEIsUUFBSTtBQUVKLFNBQUssdUJBQXVCO0FBQzVCLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUssc0JBQXNCO0FBQUEsSUFDN0I7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsd0JBQXdCO0FBQy9CLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBRXBDLFNBQUs7QUFDTCxTQUFLLHFCQUFxQjtBQUMxQixTQUFLO0FBQ0wsU0FBSyxDQUFDO0FBQ04sU0FBSyxNQUFNLE9BQU8sV0FBVztBQUM3QixRQUFJLE9BQU8sS0FBSyxFQUFFLEdBQUc7QUFDbkI7QUFBQSxJQUNGLE9BQU87QUFDTCxXQUFLO0FBQ0wsVUFBSSxvQkFBb0IsR0FBRztBQUFFLGlCQUFTLE1BQU07QUFBQSxNQUFHO0FBQUEsSUFDakQ7QUFDQSxRQUFJLE9BQU8sWUFBWTtBQUNyQixhQUFPLE9BQU8sWUFBWTtBQUN4QixXQUFHLEtBQUssRUFBRTtBQUNWLGFBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsWUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsUUFDRixPQUFPO0FBQ0wsZUFBSztBQUNMLGNBQUksb0JBQW9CLEdBQUc7QUFBRSxxQkFBUyxNQUFNO0FBQUEsVUFBRztBQUFBLFFBQ2pEO0FBQUEsTUFDRjtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsSUFDdEMsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxxQkFBcUI7QUFDMUIsVUFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLElBQUk7QUFDeEMsYUFBSztBQUNMO0FBQUEsTUFDRixPQUFPO0FBQ0wsYUFBSztBQUNMLFlBQUksb0JBQW9CLEdBQUc7QUFBRSxtQkFBUyxNQUFNO0FBQUEsUUFBRztBQUFBLE1BQ2pEO0FBQ0EsVUFBSSxPQUFPLFlBQVk7QUFDckIsYUFBSyxxQkFBcUI7QUFDMUIsYUFBSztBQUNMLGFBQUssQ0FBQztBQUNOLGFBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsWUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsUUFDRixPQUFPO0FBQ0wsZUFBSztBQUNMLGNBQUksb0JBQW9CLEdBQUc7QUFBRSxxQkFBUyxNQUFNO0FBQUEsVUFBRztBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsaUJBQU8sT0FBTyxZQUFZO0FBQ3hCLGVBQUcsS0FBSyxFQUFFO0FBQ1YsaUJBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsZ0JBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLFlBQ0YsT0FBTztBQUNMLG1CQUFLO0FBQ0wsa0JBQUksb0JBQW9CLEdBQUc7QUFBRSx5QkFBUyxNQUFNO0FBQUEsY0FBRztBQUFBLFlBQ2pEO0FBQUEsVUFDRjtBQUFBLFFBQ0YsT0FBTztBQUNMLGVBQUs7QUFBQSxRQUNQO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsZUFBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsUUFDdEMsT0FBTztBQUNMLGVBQUs7QUFBQSxRQUNQO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsZUFBSyxxQkFBcUI7QUFDMUIsZUFBSyxDQUFFLElBQUksRUFBRztBQUFBLFFBQ2hCLE9BQU87QUFDTCx3QkFBYztBQUNkLGVBQUs7QUFBQSxRQUNQO0FBQUEsTUFDRixPQUFPO0FBQ0wsc0JBQWM7QUFDZCxhQUFLO0FBQUEsTUFDUDtBQUFBLElBQ0YsT0FBTztBQUNMLG9CQUFjO0FBQ2QsV0FBSztBQUFBLElBQ1A7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMseUJBQXlCO0FBQ2hDLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUVoQyxTQUFLO0FBQ0wsU0FBSyxxQkFBcUI7QUFDMUIsU0FBSztBQUNMLFNBQUssQ0FBQztBQUNOLFNBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsUUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxNQUFNO0FBQUEsTUFBRztBQUFBLElBQ2pEO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsYUFBTyxPQUFPLFlBQVk7QUFDeEIsV0FBRyxLQUFLLEVBQUU7QUFDVixhQUFLLE1BQU0sT0FBTyxXQUFXO0FBQzdCLFlBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLFFBQ0YsT0FBTztBQUNMLGVBQUs7QUFDTCxjQUFJLG9CQUFvQixHQUFHO0FBQUUscUJBQVMsTUFBTTtBQUFBLFVBQUc7QUFBQSxRQUNqRDtBQUFBLE1BQ0Y7QUFBQSxJQUNGLE9BQU87QUFDTCxXQUFLO0FBQUEsSUFDUDtBQUNBLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUssTUFBTSxVQUFVLElBQUksV0FBVztBQUFBLElBQ3RDLE9BQU87QUFDTCxXQUFLO0FBQUEsSUFDUDtBQUNBLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUsscUJBQXFCO0FBQzFCLFVBQUksTUFBTSxXQUFXLFdBQVcsTUFBTSxJQUFJO0FBQ3hDLGFBQUs7QUFDTDtBQUFBLE1BQ0YsT0FBTztBQUNMLGFBQUs7QUFDTCxZQUFJLG9CQUFvQixHQUFHO0FBQUUsbUJBQVMsTUFBTTtBQUFBLFFBQUc7QUFBQSxNQUNqRDtBQUNBLFVBQUksT0FBTyxZQUFZO0FBQ3JCLGFBQUsscUJBQXFCO0FBQzFCLGFBQUssd0JBQXdCO0FBQzdCLFlBQUksT0FBTyxZQUFZO0FBQ3JCLGVBQUsscUJBQXFCO0FBQzFCLGVBQUssQ0FBRSxJQUFJLEVBQUc7QUFBQSxRQUNoQixPQUFPO0FBQ0wsd0JBQWM7QUFDZCxlQUFLO0FBQUEsUUFDUDtBQUFBLE1BQ0YsT0FBTztBQUNMLHNCQUFjO0FBQ2QsYUFBSztBQUFBLE1BQ1A7QUFBQSxJQUNGLE9BQU87QUFDTCxvQkFBYztBQUNkLFdBQUs7QUFBQSxJQUNQO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQSxXQUFTLHFCQUFxQjtBQUM1QixRQUFJLElBQUksSUFBSSxJQUFJO0FBRWhCLFNBQUs7QUFDTCxTQUFLLHFCQUFxQjtBQUMxQixRQUFJLE1BQU0sV0FBVyxXQUFXLE1BQU0sSUFBSTtBQUN4QyxXQUFLO0FBQ0w7QUFBQSxJQUNGLE9BQU87QUFDTCxXQUFLO0FBQ0wsVUFBSSxvQkFBb0IsR0FBRztBQUFFLGlCQUFTLE1BQU07QUFBQSxNQUFHO0FBQUEsSUFDakQ7QUFDQSxRQUFJLE9BQU8sWUFBWTtBQUNyQixXQUFLLHFCQUFxQjtBQUMxQixXQUFLLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDaEIsV0FBSztBQUFBLElBQ1AsT0FBTztBQUNMLG9CQUFjO0FBQ2QsV0FBSztBQUFBLElBQ1A7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsMEJBQTBCO0FBQ2pDLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFFNUIsU0FBSztBQUNMLFFBQUksTUFBTSxXQUFXLFdBQVcsTUFBTSxLQUFLO0FBQ3pDLFdBQUs7QUFDTDtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFDTCxVQUFJLG9CQUFvQixHQUFHO0FBQUUsaUJBQVMsTUFBTTtBQUFBLE1BQUc7QUFBQSxJQUNqRDtBQUNBLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUs7QUFDTCxXQUFLLENBQUM7QUFDTixVQUFJLE1BQU0sT0FBTyxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQzNDLGFBQUs7QUFDTCx1QkFBZTtBQUFBLE1BQ2pCLE9BQU87QUFDTCxhQUFLO0FBQ0wsWUFBSSxvQkFBb0IsR0FBRztBQUFFLG1CQUFTLE1BQU07QUFBQSxRQUFHO0FBQUEsTUFDakQ7QUFDQSxVQUFJLE9BQU8sWUFBWTtBQUNyQixZQUFJLE1BQU0sT0FBTyxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQzNDLGVBQUs7QUFDTCx5QkFBZTtBQUFBLFFBQ2pCLE9BQU87QUFDTCxlQUFLO0FBQ0wsY0FBSSxvQkFBb0IsR0FBRztBQUFFLHFCQUFTLE9BQU87QUFBQSxVQUFHO0FBQUEsUUFDbEQ7QUFDQSxZQUFJLE9BQU8sWUFBWTtBQUNyQixlQUFLLHdCQUF3QjtBQUM3QixjQUFJLE9BQU8sWUFBWTtBQUNyQixpQkFBSztBQUNMLGlCQUFLO0FBQ0w7QUFDQSxnQkFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLEtBQUs7QUFDekMsbUJBQUs7QUFDTDtBQUFBLFlBQ0YsT0FBTztBQUNMLG1CQUFLO0FBQ0wsa0JBQUksb0JBQW9CLEdBQUc7QUFBRSx5QkFBUyxNQUFNO0FBQUEsY0FBRztBQUFBLFlBQ2pEO0FBQ0E7QUFDQSxnQkFBSSxPQUFPLFlBQVk7QUFDckIsbUJBQUs7QUFBQSxZQUNQLE9BQU87QUFDTCw0QkFBYztBQUNkLG1CQUFLO0FBQUEsWUFDUDtBQUNBLGdCQUFJLE9BQU8sWUFBWTtBQUNyQixrQkFBSSxNQUFNLFNBQVMsYUFBYTtBQUM5QixxQkFBSyxNQUFNLE9BQU8sV0FBVztBQUM3QjtBQUFBLGNBQ0YsT0FBTztBQUNMLHFCQUFLO0FBQ0wsb0JBQUksb0JBQW9CLEdBQUc7QUFBRSwyQkFBUyxPQUFPO0FBQUEsZ0JBQUc7QUFBQSxjQUNsRDtBQUNBLGtCQUFJLE9BQU8sWUFBWTtBQUNyQixxQkFBSyxDQUFDLElBQUksRUFBRTtBQUNaLHFCQUFLO0FBQUEsY0FDUCxPQUFPO0FBQ0wsOEJBQWM7QUFDZCxxQkFBSztBQUFBLGNBQ1A7QUFBQSxZQUNGLE9BQU87QUFDTCw0QkFBYztBQUNkLG1CQUFLO0FBQUEsWUFDUDtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUNBLGFBQU8sT0FBTyxZQUFZO0FBQ3hCLFdBQUcsS0FBSyxFQUFFO0FBQ1YsWUFBSSxNQUFNLE9BQU8sYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUMzQyxlQUFLO0FBQ0wseUJBQWU7QUFBQSxRQUNqQixPQUFPO0FBQ0wsZUFBSztBQUNMLGNBQUksb0JBQW9CLEdBQUc7QUFBRSxxQkFBUyxNQUFNO0FBQUEsVUFBRztBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxPQUFPLFlBQVk7QUFDckIsY0FBSSxNQUFNLE9BQU8sYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUMzQyxpQkFBSztBQUNMLDJCQUFlO0FBQUEsVUFDakIsT0FBTztBQUNMLGlCQUFLO0FBQ0wsZ0JBQUksb0JBQW9CLEdBQUc7QUFBRSx1QkFBUyxPQUFPO0FBQUEsWUFBRztBQUFBLFVBQ2xEO0FBQ0EsY0FBSSxPQUFPLFlBQVk7QUFDckIsaUJBQUssd0JBQXdCO0FBQzdCLGdCQUFJLE9BQU8sWUFBWTtBQUNyQixtQkFBSztBQUNMLG1CQUFLO0FBQ0w7QUFDQSxrQkFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLEtBQUs7QUFDekMscUJBQUs7QUFDTDtBQUFBLGNBQ0YsT0FBTztBQUNMLHFCQUFLO0FBQ0wsb0JBQUksb0JBQW9CLEdBQUc7QUFBRSwyQkFBUyxNQUFNO0FBQUEsZ0JBQUc7QUFBQSxjQUNqRDtBQUNBO0FBQ0Esa0JBQUksT0FBTyxZQUFZO0FBQ3JCLHFCQUFLO0FBQUEsY0FDUCxPQUFPO0FBQ0wsOEJBQWM7QUFDZCxxQkFBSztBQUFBLGNBQ1A7QUFDQSxrQkFBSSxPQUFPLFlBQVk7QUFDckIsb0JBQUksTUFBTSxTQUFTLGFBQWE7QUFDOUIsdUJBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0I7QUFBQSxnQkFDRixPQUFPO0FBQ0wsdUJBQUs7QUFDTCxzQkFBSSxvQkFBb0IsR0FBRztBQUFFLDZCQUFTLE9BQU87QUFBQSxrQkFBRztBQUFBLGdCQUNsRDtBQUNBLG9CQUFJLE9BQU8sWUFBWTtBQUNyQix1QkFBSyxDQUFDLElBQUksRUFBRTtBQUNaLHVCQUFLO0FBQUEsZ0JBQ1AsT0FBTztBQUNMLGdDQUFjO0FBQ2QsdUJBQUs7QUFBQSxnQkFDUDtBQUFBLGNBQ0YsT0FBTztBQUNMLDhCQUFjO0FBQ2QscUJBQUs7QUFBQSxjQUNQO0FBQUEsWUFDRjtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUNBLFdBQUssTUFBTSxVQUFVLElBQUksV0FBVztBQUNwQyxVQUFJLE1BQU0sV0FBVyxXQUFXLE1BQU0sS0FBSztBQUN6QyxhQUFLO0FBQ0w7QUFBQSxNQUNGLE9BQU87QUFDTCxhQUFLO0FBQ0wsWUFBSSxvQkFBb0IsR0FBRztBQUFFLG1CQUFTLE1BQU07QUFBQSxRQUFHO0FBQUEsTUFDakQ7QUFDQSxVQUFJLE9BQU8sWUFBWTtBQUNyQixhQUFLO0FBQUEsTUFDUCxPQUFPO0FBQ0wsc0JBQWM7QUFDZCxhQUFLO0FBQUEsTUFDUDtBQUFBLElBQ0YsT0FBTztBQUNMLG9CQUFjO0FBQ2QsV0FBSztBQUFBLElBQ1A7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsbUJBQW1CO0FBQzFCLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBRXhCLFNBQUs7QUFDTCxTQUFLO0FBQ0wsU0FBSztBQUNMLFNBQUssQ0FBQztBQUNOLFNBQUssV0FBVztBQUNoQixXQUFPLE9BQU8sWUFBWTtBQUN4QixTQUFHLEtBQUssRUFBRTtBQUNWLFdBQUssV0FBVztBQUFBLElBQ2xCO0FBQ0EsUUFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLElBQUk7QUFDeEMsV0FBSztBQUNMO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxPQUFPO0FBQUEsTUFBRztBQUFBLElBQ2xEO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxvQkFBb0I7QUFDekIsVUFBSSxPQUFPLFlBQVk7QUFDckIsYUFBSyxDQUFDLElBQUksSUFBSSxFQUFFO0FBQ2hCLGFBQUs7QUFBQSxNQUNQLE9BQU87QUFDTCxzQkFBYztBQUNkLGFBQUs7QUFBQSxNQUNQO0FBQUEsSUFDRixPQUFPO0FBQ0wsb0JBQWM7QUFDZCxXQUFLO0FBQUEsSUFDUDtBQUNBLFFBQUksT0FBTyxZQUFZO0FBQ3JCLFdBQUssTUFBTSxVQUFVLElBQUksV0FBVztBQUFBLElBQ3RDLE9BQU87QUFDTCxXQUFLO0FBQUEsSUFDUDtBQUNBLFFBQUksT0FBTyxZQUFZO0FBQ3JCLHFCQUFlO0FBQ2YsV0FBSyxPQUFPO0FBQUEsSUFDZDtBQUNBLFNBQUs7QUFFTCxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsc0JBQXNCO0FBQzdCLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUVwQixTQUFLO0FBQ0wsU0FBSztBQUNMLFNBQUs7QUFDTCxTQUFLLENBQUM7QUFDTixTQUFLLE1BQU0sT0FBTyxXQUFXO0FBQzdCLFFBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFDTCxVQUFJLG9CQUFvQixHQUFHO0FBQUUsaUJBQVMsT0FBTztBQUFBLE1BQUc7QUFBQSxJQUNsRDtBQUNBLFdBQU8sT0FBTyxZQUFZO0FBQ3hCLFNBQUcsS0FBSyxFQUFFO0FBQ1YsV0FBSyxNQUFNLE9BQU8sV0FBVztBQUM3QixVQUFJLE9BQU8sS0FBSyxFQUFFLEdBQUc7QUFDbkI7QUFBQSxNQUNGLE9BQU87QUFDTCxhQUFLO0FBQ0wsWUFBSSxvQkFBb0IsR0FBRztBQUFFLG1CQUFTLE9BQU87QUFBQSxRQUFHO0FBQUEsTUFDbEQ7QUFBQSxJQUNGO0FBQ0EsU0FBSyxpQkFBaUI7QUFDdEIsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxDQUFDLElBQUksRUFBRTtBQUNaLFdBQUs7QUFBQSxJQUNQLE9BQU87QUFDTCxvQkFBYztBQUNkLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsSUFDdEMsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIscUJBQWU7QUFDZixXQUFLLE9BQU8sRUFBRTtBQUFBLElBQ2hCO0FBQ0EsU0FBSztBQUVMLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyx1QkFBdUI7QUFDOUIsUUFBSSxJQUFJO0FBRVIsU0FBSyxDQUFDO0FBQ04sU0FBSyxNQUFNLE9BQU8sV0FBVztBQUM3QixRQUFJLE9BQU8sS0FBSyxFQUFFLEdBQUc7QUFDbkI7QUFBQSxJQUNGLE9BQU87QUFDTCxXQUFLO0FBQ0wsVUFBSSxvQkFBb0IsR0FBRztBQUFFLGlCQUFTLE9BQU87QUFBQSxNQUFHO0FBQUEsSUFDbEQ7QUFDQSxRQUFJLE9BQU8sWUFBWTtBQUNyQixhQUFPLE9BQU8sWUFBWTtBQUN4QixXQUFHLEtBQUssRUFBRTtBQUNWLGFBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsWUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsUUFDRixPQUFPO0FBQ0wsZUFBSztBQUNMLGNBQUksb0JBQW9CLEdBQUc7QUFBRSxxQkFBUyxPQUFPO0FBQUEsVUFBRztBQUFBLFFBQ2xEO0FBQUEsTUFDRjtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQSxXQUFTLG1CQUFtQjtBQUMxQixRQUFJO0FBRUosU0FBSyxNQUFNLE9BQU8sV0FBVztBQUM3QixRQUFJLE9BQU8sS0FBSyxFQUFFLEdBQUc7QUFDbkI7QUFBQSxJQUNGLE9BQU87QUFDTCxXQUFLO0FBQ0wsVUFBSSxvQkFBb0IsR0FBRztBQUFFLGlCQUFTLE9BQU87QUFBQSxNQUFHO0FBQUEsSUFDbEQ7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsc0JBQXNCO0FBQzdCLFFBQUksSUFBSSxJQUFJLElBQUk7QUFFaEIsU0FBSztBQUNMLFNBQUs7QUFDTCxTQUFLLENBQUM7QUFDTixTQUFLLFdBQVc7QUFDaEIsV0FBTyxPQUFPLFlBQVk7QUFDeEIsU0FBRyxLQUFLLEVBQUU7QUFDVixXQUFLLFdBQVc7QUFBQSxJQUNsQjtBQUNBLFNBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsUUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxPQUFPO0FBQUEsTUFBRztBQUFBLElBQ2xEO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxDQUFDLElBQUksRUFBRTtBQUNaLFdBQUs7QUFBQSxJQUNQLE9BQU87QUFDTCxvQkFBYztBQUNkLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsSUFDdEMsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQSxXQUFTLHVCQUF1QjtBQUM5QixRQUFJLElBQUksSUFBSTtBQUVaLFNBQUs7QUFDTCxTQUFLLENBQUM7QUFDTixTQUFLLE1BQU0sT0FBTyxXQUFXO0FBQzdCLFFBQUksT0FBTyxLQUFLLEVBQUUsR0FBRztBQUNuQjtBQUFBLElBQ0YsT0FBTztBQUNMLFdBQUs7QUFDTCxVQUFJLG9CQUFvQixHQUFHO0FBQUUsaUJBQVMsT0FBTztBQUFBLE1BQUc7QUFBQSxJQUNsRDtBQUNBLFdBQU8sT0FBTyxZQUFZO0FBQ3hCLFNBQUcsS0FBSyxFQUFFO0FBQ1YsV0FBSyxNQUFNLE9BQU8sV0FBVztBQUM3QixVQUFJLE9BQU8sS0FBSyxFQUFFLEdBQUc7QUFDbkI7QUFBQSxNQUNGLE9BQU87QUFDTCxhQUFLO0FBQ0wsWUFBSSxvQkFBb0IsR0FBRztBQUFFLG1CQUFTLE9BQU87QUFBQSxRQUFHO0FBQUEsTUFDbEQ7QUFBQSxJQUNGO0FBQ0EsU0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBRXBDLFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxrQkFBa0I7QUFDekIsUUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBRXBCLFNBQUs7QUFDTCxTQUFLO0FBQ0wsU0FBSyxxQkFBcUI7QUFDMUIsUUFBSSxNQUFNLFdBQVcsV0FBVyxNQUFNLElBQUk7QUFDeEMsV0FBSztBQUNMO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxNQUFNO0FBQUEsTUFBRztBQUFBLElBQ2pEO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxxQkFBcUI7QUFDMUIsV0FBSyxDQUFDLElBQUksSUFBSSxFQUFFO0FBQ2hCLFdBQUs7QUFBQSxJQUNQLE9BQU87QUFDTCxvQkFBYztBQUNkLFdBQUs7QUFBQSxJQUNQO0FBQ0EsUUFBSSxPQUFPLFlBQVk7QUFDckIsV0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXO0FBQUEsSUFDdEMsT0FBTztBQUNMLFdBQUs7QUFBQSxJQUNQO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQSxXQUFTLGFBQWE7QUFDcEIsUUFBSTtBQUVKLFNBQUssTUFBTSxPQUFPLFdBQVc7QUFDN0IsUUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHO0FBQ25CO0FBQUEsSUFDRixPQUFPO0FBQ0wsV0FBSztBQUNMLFVBQUksb0JBQW9CLEdBQUc7QUFBRSxpQkFBUyxPQUFPO0FBQUEsTUFBRztBQUFBLElBQ2xEO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFHQSxNQUFJLFFBQVE7QUFFWixRQUFNRCwyQkFBeUIsYUFBUSwyQkFBUixZQUFrQztBQUNqRSxRQUFNLGNBQWEsYUFBUSxlQUFSLFlBQXNCO0FBQ3pDLFFBQU0sY0FBYSxhQUFRLGVBQVIsWUFBc0IsQ0FBQztBQUUxQyxlQUFhLHNCQUFzQjtBQUVuQyxNQUFJLFFBQVEsYUFBYTtBQUN2QjtBQUFBO0FBQUEsTUFBMkI7QUFBQSxRQUN6QjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUE7QUFBQSxFQUNGO0FBQ0EsTUFBSSxlQUFlLGNBQWMsZ0JBQWdCLE1BQU0sUUFBUTtBQUM3RCxXQUFPO0FBQUEsRUFDVCxPQUFPO0FBQ0wsUUFBSSxlQUFlLGNBQWMsY0FBYyxNQUFNLFFBQVE7QUFDM0QsZUFBUyxtQkFBbUIsQ0FBQztBQUFBLElBQy9CO0FBRUEsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBLGlCQUFpQixNQUFNLFNBQVMsTUFBTSxPQUFPLGNBQWMsSUFBSTtBQUFBLE1BQy9ELGlCQUFpQixNQUFNLFNBQ25CLG9CQUFvQixnQkFBZ0IsaUJBQWlCLENBQUMsSUFDdEQsb0JBQW9CLGdCQUFnQixjQUFjO0FBQUEsSUFDeEQ7QUFBQSxFQUNGO0FBQ0Y7OztBRHZxQ0EsSUFBTSx5QkFBTixjQUFxQyxNQUFNO0FBQUEsRUFHdkMsWUFBWSxTQUFpQixVQUFvQjtBQUM3QyxVQUFNLE9BQU87QUFDYixTQUFLLE9BQU87QUFDWixTQUFLLFdBQVc7QUFBQSxFQUNwQjtBQUNKO0FBT0EsSUFBTSxtQkFBOEM7QUFBQSxFQUNoRCxXQUFXO0FBQ2Y7QUFFQSxTQUFTLG1CQUFtQixRQUE0QjtBQUNwRCxRQUFNLGVBQWUsS0FBSyxNQUFNO0FBQ2hDLFFBQU0sTUFBTSxhQUFhO0FBQ3pCLFFBQU0sUUFBUSxJQUFJLFdBQVcsR0FBRztBQUNoQyxXQUFTLElBQUksR0FBRyxJQUFJLEtBQUssS0FBSztBQUMxQixVQUFNLENBQUMsSUFBSSxhQUFhLFdBQVcsQ0FBQztBQUFBLEVBQ3hDO0FBQ0EsU0FBTztBQUNYO0FBR0EsSUFBcUIsb0JBQXJCLGNBQStDLHVCQUFPO0FBQUEsRUFBdEQ7QUFBQTtBQUNJLG9CQUFzQztBQUV0QyxTQUFRLFdBQWdCLFVBQUssMENBQTBDLFVBQVU7QUFDakYsU0FBUSxPQUFPO0FBQ2YsU0FBUSxhQUF5QixDQUFDO0FBQUE7QUFBQSxFQUVsQyxNQUFNLFNBQVM7QUFDWCxVQUFNLEtBQUssYUFBYTtBQUd4QixVQUFNLGVBQWUsS0FBSyxjQUFjLFFBQVEsaUJBQWlCLENBQUMsUUFBb0I7QUFFbEYsVUFBSSx1QkFBTyxtQkFBbUI7QUFBQSxJQUNsQyxDQUFDO0FBRUQsaUJBQWEsU0FBUyx3QkFBd0I7QUFHOUMsVUFBTSxrQkFBa0IsS0FBSyxpQkFBaUI7QUFDOUMsb0JBQWdCLFFBQVEsaUJBQWlCO0FBR3pDLFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1osWUFBSSxZQUFZLEtBQUssR0FBRyxFQUFFLEtBQUs7QUFBQSxNQUNuQztBQUFBLElBQ0osQ0FBQztBQUdELFNBQUssY0FBYyxJQUFJLGlCQUFpQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBR3ZELFNBQUssaUJBQWlCLE9BQU8sWUFBWSxNQUFNLFFBQVEsSUFBSSxhQUFhLEdBQUcsSUFBSSxLQUFLLEdBQUksQ0FBQztBQUd6RixTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsWUFBWTtBQUNsQixhQUFLLFlBQVk7QUFBQSxNQUNyQjtBQUFBLElBQ0osQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxZQUFZO0FBQ2xCLGNBQU0sV0FBVyxLQUFLLFdBQVcsYUFBYTtBQUM5QyxZQUFHLFVBQVU7QUFDVCxrQkFBUSxJQUFJLG1CQUFtQixTQUFTLGFBQWEsQ0FBQyxDQUFDO0FBQUEsUUFDM0Q7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBRUQsU0FBSyxZQUFZO0FBQUEsRUFDckI7QUFBQSxFQUVBLFdBQVc7QUFBQSxFQUVYO0FBQUEsRUFFQSxNQUFNLGNBQWM7QUFDaEIsUUFBSSxLQUFLLFNBQVMsSUFBSTtBQUNsQixZQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3BCLFdBQUssT0FBTyxNQUFNLEtBQUssWUFBWTtBQUNuQyxZQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3BCLGNBQVEsSUFBSSw0QkFBNEIsS0FBSyxNQUFNLGdCQUFnQjtBQUFBLElBQ3ZFO0FBRUEsVUFBTSxhQUFhLENBQUM7QUFDcEIsVUFBTSxhQUFhO0FBQ25CLFFBQUksU0FBUztBQUNiLFFBQUksb0JBQW9CO0FBRXhCLFVBQU0sS0FBSyxLQUFLLElBQUk7QUFFcEIsVUFBTSxtQkFBbUIsQ0FBQyxhQUEyQjtBQXpJN0Q7QUEwSVksVUFBSTtBQUNBLGVBQU8sU0FBUyxjQUFjLElBQUksS0FBSyxDQUFDLG1CQUFtQjtBQUV2RCxxQkFBTSxVQUFLLFNBQUwsbUJBQVcsTUFBTSxTQUFTO0FBQUEsWUFDNUI7QUFBQSxZQUNBO0FBQUEsWUFDQTtBQUFBLFVBQ0osQ0FBQztBQUdELDhCQUFvQjtBQUFBLFFBQ3hCO0FBRUEsWUFBSSxDQUFDLG1CQUFtQjtBQUVwQiw4QkFBb0IsZ0JBQWdCO0FBQUEsUUFDeEMsT0FBTztBQUVILGdCQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3BCLGtCQUFRLElBQUksNEJBQTRCLEtBQUssTUFBTSxlQUFlO0FBQ2xFLGtCQUFRLElBQUksdUJBQXVCLE9BQU8sS0FBSyxVQUFVLEVBQUUsTUFBTTtBQUNqRSxlQUFLLGFBQWE7QUFBQSxRQUN0QjtBQUFBLE1BQ0osU0FBUyxPQUFQO0FBQ0UsWUFBSSxpQkFBaUIsd0JBQXdCO0FBRXpDLG9CQUFVLEtBQUssc0JBQXNCLE1BQU0sUUFBUTtBQUduRCw4QkFBb0IsZ0JBQWdCO0FBQUEsUUFDeEMsT0FBTztBQUNILGtCQUFRLE1BQU0sa0JBQWtCLEtBQUs7QUFBQSxRQUN6QztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBR0Esd0JBQW9CLGdCQUFnQjtBQUFBLEVBQ3hDO0FBQUE7QUFBQSxFQUtBLHNCQUFzQixVQUE0QjtBQUM5QyxRQUFJLENBQUM7QUFBVSxhQUFPO0FBSXRCLFdBQU8sU0FBUyxJQUFJO0FBQUEsRUFDeEI7QUFBQTtBQUFBLEVBSUEsTUFBTSxjQUErQjtBQUNuQyxRQUFJO0FBQ0YsWUFBTSxPQUFPLE1BQU0sVUFBQUksU0FBRyxTQUFTLEtBQUssVUFBVSxNQUFNO0FBQ3BELGFBQU87QUFBQSxJQUNULFNBQVMsS0FBUDtBQUNBLGNBQVEsTUFBTSx1QkFBdUIsR0FBRztBQUN4QyxZQUFNO0FBQUEsSUFDUjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNqQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzdFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDakIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDckM7QUFDSjtBQUVBLElBQU0sY0FBTixjQUEwQixzQkFBTTtBQUFBLEVBQzVCLFlBQVksS0FBVTtBQUNsQixVQUFNLEdBQUc7QUFBQSxFQUNiO0FBQUEsRUFFQSxTQUFTO0FBQ0wsVUFBTSxFQUFDLFVBQVMsSUFBSTtBQUNwQixjQUFVLFFBQVEsT0FBTztBQUFBLEVBQzdCO0FBQUEsRUFFQSxVQUFVO0FBQ04sVUFBTSxFQUFDLFVBQVMsSUFBSTtBQUNwQixjQUFVLE1BQU07QUFBQSxFQUNwQjtBQUNKO0FBRUEsSUFBTSxtQkFBTixjQUErQixpQ0FBaUI7QUFBQSxFQUc1QyxZQUFZLEtBQVUsUUFBMkI7QUFDN0MsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDbEI7QUFBQSxFQUVBLFVBQWdCO0FBQ1osVUFBTSxFQUFDLFlBQVcsSUFBSTtBQUV0QixnQkFBWSxNQUFNO0FBRWxCLFFBQUksd0JBQVEsV0FBVyxFQUNsQixRQUFRLFlBQVksRUFDcEIsUUFBUSxlQUFnQixFQUN4QixRQUFRLFVBQVEsS0FDWixlQUFlLG1CQUFtQixFQUNsQyxTQUFTLEtBQUssT0FBTyxTQUFTLFNBQVMsRUFDdkMsU0FBUyxPQUFPLFVBQVU7QUFDdkIsV0FBSyxPQUFPLFNBQVMsWUFBWTtBQUNqQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDbkMsQ0FBQyxDQUFDO0FBQUEsRUFDZDtBQUNKOyIsCiAgIm5hbWVzIjogWyJleHBlY3RlZCIsICJmb3VuZCIsICJNYXhNYXRjaGVzUmVhY2hlZEVycm9yIiwgImxvY2F0aW9uIiwgInRleHQiLCAib2Zmc2V0IiwgImZzIl0KfQo=
